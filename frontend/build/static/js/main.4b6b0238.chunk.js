(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{103:function(e,t,c){},215:function(e,t,c){"use strict";c.r(t);var a=c(2),r=c(1),s=c.n(r),n=c(17),l=c.n(n),i=c(7),o=c(14),d=(c(103),c(4)),j=c(79),u=c(0),b=function(e){var t=e.title;return Object(u.jsx)(j.a,{children:Object(u.jsx)("title",{children:"".concat(t," - OliveZone")})})},O=c(82),p=c.n(O),m=c(53),h=(c(178),c(3)),x=c(5),f=c.n(x),g=c(8),v=c(12),y=c.n(v),N="ALL_PRODUCTS_REQUEST",E="ALL_PRODUCTS_SUCCESS",S="ALL_PRODUCTS_FAIL",_="ADMIN_PRODUCTS_REQUEST",w="ADMIN_PRODUCTS_SUCCESS",C="ADMIN_PRODUCTS_FAIL",R="NEW_PRODUCT_REQUEST",T="NEW_PRODUCT_SUCCESS",A="NEW_PRODUCT_RESET",D="NEW_PRODUCT_FAIL",k="UPDATE_PRODUCT_REQUEST",U="UPDATE_PRODUCT_SUCCESS",F="UPDATE_PRODUCT_RESET",P="UPDATE_PRODUCT_FAIL",I="DELETE_PRODUCT_REQUEST",L="DELETE_PRODUCT_SUCCESS",M="DELETE_PRODUCT_RESET",G="DELETE_PRODUCT_FAIL",W="PRODUCT_DETAILS_REQUEST",Q="PRODUCT_DETAILS_SUCCESS",B="PRODUCT_DETAILS_FAIL",Y="NEW_REVIEW_REQUEST",V="NEW_REVIEW_SUCCESS",q="NEW_REVIEW_RESET",z="NEW_REVIEW_FAIL",K="GET_REVIEWS_REQUEST",J="GET_REVIEWS_SUCCESS",H="GET_REVIEWS_FAIL",$="DELETE_REVIEW_REQUEST",Z="DELETE_REVIEW_SUCCESS",X="DELETE_REVIEW_RESET",ee="DELETE_REVIEW_FAIL",te="CLEAR_ERRORS",ce=function(e){return function(){var t=Object(g.a)(f.a.mark((function t(c){var a,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:W}),t.next=4,y.a.get("/api/v1/product/".concat(e));case 4:a=t.sent,r=a.data,c({type:Q,payload:r.product}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:B,payload:t.t0.response.data.errorMessage});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},ae=function(){return function(){var e=Object(g.a)(f.a.mark((function e(t){var c,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:_}),e.next=4,y.a.get("/api/v1/admin/products");case 4:c=e.sent,a=c.data,t({type:w,payload:a.products}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:C,payload:e.t0.response.data.errorMessage});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},re=function(e){return function(){var t=Object(g.a)(f.a.mark((function t(c){var a,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:K}),t.next=4,y.a.get("/api/v1/reviews?id=".concat(e));case 4:a=t.sent,r=a.data,c({type:J,payload:r.reviews}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:H,payload:t.t0.response.data.errorMessage});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},se=function(){return function(){var e=Object(g.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:te});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ne=function(e){var t=e.product,c=e.col,a=0,s=0;return t.offerPercentage<=t.subCategoryOfferPercentage&&0!==t.subCategoryOfferPercentage?(a=t.subCategoryOfferPercentage,s=t.subCategoryOfferPrice):(a=t.offerPercentage,s=t.offerPrice),Object(u.jsx)("div",{className:"col-sm-12 col-md-6 col-lg-".concat(c," my-3"),children:Object(u.jsxs)("div",{className:"card p-3 rounded",children:[Object(u.jsx)("img",{className:"card-img-top mx-auto",src:t.images[0].url,alt:t.name}),Object(u.jsxs)("div",{className:"card-body d-flex flex-column",children:[Object(u.jsx)("h5",{className:"card-title",children:Object(u.jsx)(i.b,{to:"/product/".concat(t._id),children:t.name})}),Object(u.jsxs)("div",{className:"ratings mt-auto",children:[Object(u.jsx)("div",{className:"rating-outer",children:Object(u.jsx)("div",{className:"rating-inner",style:{width:"".concat(t.ratings/5*100,"%")}})}),Object(u.jsxs)("span",{id:"no_of_reviews",children:["(",t.numOfReviews," Reviews)"]})]}),0!==a?Object(u.jsxs)(r.Fragment,{children:[Object(u.jsxs)("p",{style:{color:"#db3725"},children:[a,"% off. Grab the deal now !"]}),Object(u.jsxs)("h5",{className:"",style:{textDecoration:"line-through",color:"#9c9ea1"},children:["\u20b9 ",t.price]}),Object(u.jsxs)("h4",{className:"card-text",style:{color:"#3cb807",fontWeight:"bold"},children:["\u20b9 ",s]})]}):Object(u.jsxs)("p",{className:"card-text",children:["\u20b9 ",t.price]}),Object(u.jsx)(i.b,{to:"/product/".concat(t._id),id:"view_btn",className:"btn btn-block",children:"View Details"})]})]})},t._id)},le=function(){return Object(u.jsx)("div",{className:"loader"})},ie=c(11),oe=m.a.createSliderWithTooltip,de=oe(m.a.Range),je=function(){var e=Object(ie.d)(),t=Object(h.b)(),c=Object(r.useState)(1),a=Object(d.a)(c,2),s=a[0],n=a[1],l=Object(r.useState)([1,1e3]),i=Object(d.a)(l,2),j=i[0],O=i[1],m=Object(r.useState)(""),x=Object(d.a)(m,2),v=x[0],_=x[1],w=Object(r.useState)(0),C=Object(d.a)(w,2),R=C[0],T=C[1],A=Object(o.h)(),D=Object(h.c)((function(e){return e.products})),k=D.loading,U=D.products,F=D.error,P=D.productsCount,I=D.resPerPage,L=D.filteredProductsCount,M=A.keyword;Object(r.useEffect)((function(){if(F)return e.error(F);t(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return function(){var s=Object(g.a)(f.a.mark((function s(n){var l,i,o;return f.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,n({type:N}),l="/api/v1/products?keyword=".concat(e,"&page=").concat(t,"&price[lte]=").concat(c[1],"&price[gte]=").concat(c[0],"&ratings[gte]=").concat(r),a&&(l="/api/v1/products?keyword=".concat(e,"&page=").concat(t,"&price[lte]=").concat(c[1],"&price[gte]=").concat(c[0],"&category=").concat(a,"&ratings[gte]=").concat(r)),s.next=6,y.a.get(l);case 6:i=s.sent,o=i.data,n({type:E,payload:o}),s.next=14;break;case 11:s.prev=11,s.t0=s.catch(0),n({type:S,payload:s.t0.response.data.errorMessage});case 14:case"end":return s.stop()}}),s,null,[[0,11]])})));return function(e){return s.apply(this,arguments)}}()}(M,s,j,v,R))}),[t,e,F,M,s,j,v,R]);var G=P;return M&&(G=L),Object(u.jsx)(r.Fragment,{children:k?Object(u.jsx)(le,{}):Object(u.jsxs)(r.Fragment,{children:[Object(u.jsx)(b,{title:"Best products in the market"}),Object(u.jsx)("h1",{id:"products_heading",children:"Latest Products"}),Object(u.jsx)("section",{id:"products",className:"container mt-5",children:Object(u.jsx)("div",{className:"row",children:M?Object(u.jsxs)(r.Fragment,{children:[Object(u.jsx)("div",{className:"col-6 col-md-3 mt-5 mb-5",children:Object(u.jsxs)("div",{className:"ps-5",children:[Object(u.jsx)(de,{marks:{1:"\u20b9 1",1e3:"\u20b9 1000"},min:1,max:1e3,defaultValue:[1,1e3],tipFormatter:function(e){return"\u20b9".concat(e)},tipProps:{placement:"top",visible:!0},value:j,onChange:function(e){return O(e)}}),Object(u.jsx)("hr",{className:"my-5"}),Object(u.jsxs)("div",{className:"mt-5",children:[Object(u.jsx)("h4",{className:"mb-3",children:"Categories"}),Object(u.jsx)("ul",{className:"ps-0",children:["Electronics","Cameras","Laptops","Accessories","Headphones","Food","Books","Clothes/shoes","Beauty/health","Sports","Outdoor","Home"].map((function(e){return Object(u.jsx)("li",{style:{cursor:"pointer",listStyleType:"none"},onClick:function(){return _(e)},children:e},e)}))})]}),Object(u.jsx)("hr",{className:"my-5"}),Object(u.jsxs)("div",{className:"mt-5",children:[Object(u.jsx)("h4",{className:"mb-3",children:"Ratings"}),Object(u.jsx)("ul",{className:"ps-0",children:[5,4,3,2,1].map((function(e){return Object(u.jsx)("li",{style:{cursor:"pointer",listStyleType:"none"},onClick:function(){return T(e)},children:Object(u.jsx)("div",{className:"rating-outer",children:Object(u.jsx)("div",{className:"rating-inner",style:{width:"".concat(20*e,"%")}})})},e)}))})]})]})}),Object(u.jsx)("div",{className:"col-6 col-md-9",children:Object(u.jsx)("div",{className:"row",children:U&&U.map((function(e){return Object(u.jsx)(ne,{product:e,col:4},e._id)}))})})]}):U&&U.map((function(e){return Object(u.jsx)(ne,{product:e,col:3},e._id)}))})}),I<=G&&Object(u.jsx)("div",{className:"d-flex justify-content-cetnter mt-5",children:Object(u.jsx)(p.a,{activePage:s,itemsCountPerPage:I,totalItemscount:P,onChange:function(e){console.log(e),n(e)},nextPageText:"Next",prevPageText:"Prev",firstPageText:"First",lastPageText:"Last",itemClass:"page-item",linkClass:"page-link"})})]})})},ue=function(){return Object(u.jsx)(r.Fragment,{children:Object(u.jsx)("footer",{className:"py-1",children:Object(u.jsx)("p",{className:"text-center  mt-1",children:"Olive Zone - 2021-2022, All Rights Reserved"})})})},be=function(){var e=Object(r.useState)(""),t=Object(d.a)(e,2),c=t[0],a=t[1],s=Object(o.g)();return Object(u.jsx)("form",{onSubmit:function(e){e.preventDefault(),c.trim()?(s("/search/".concat(c)),a("")):s("/")},children:Object(u.jsxs)("div",{className:"input-group",children:[Object(u.jsx)("input",{type:"text",id:"search_field",className:"form-control",placeholder:"Enter Product Name ...",onChange:function(e){return a(e.target.value)}}),Object(u.jsx)("div",{className:"input-group-append",children:Object(u.jsx)("button",{id:"search_btn",className:"btn",children:Object(u.jsx)("i",{className:"fa fa-search","aria-hidden":"true"})})})]})})},Oe="LOGIN_REQUEST",pe="LOGIN_SUCCESS",me="LOGIN_FAIL",he="REGISTER_USER_REQUEST",xe="REGISTER_USER_SUCCESS",fe="REGISTER_USER_FAIL",ge="LOAD_USER_REQUEST",ve="LOAD_USER_SUCCESS",ye="LOAD_USER_FAIL",Ne="UPDATE_PROFILE_REQUEST",Ee="UPDATE_PROFILE_SUCCESS",Se="UPDATE_PROFILE_RESET",_e="UPDATE_PROFILE_FAIL",we="UPDATE_PASSWORD_REQUEST",Ce="UPDATE_PASSWORD_SUCCESS",Re="UPDATE_PASSWORD_RESET",Te="UPDATE_PASSWORD_FAIL",Ae="FORGOT_PASSWORD_REQUEST",De="FORGOT_PASSWORD_SUCCESS",ke="FORGOT_PASSWORD_FAIL",Ue="NEW_PASSWORD_REQUEST",Fe="NEW_PASSWORD_SUCCESS",Pe="NEW_PASSWORD_FAIL",Ie="LOGOUT_SUCCESS",Le="LOGOUT_FAIL",Me="USER_DETAILS_REQUEST",Ge="USER_DETAILS_SUCCESS",We="USER_DETAILS_FAIL",Qe="ALL_USERS_REQUEST",Be="ALL_USERS_SUCCESS",Ye="ALL_USERS_FAIL",Ve="UPDATE_USER_REQUEST",qe="UPDATE_USER_SUCCESS",ze="UPDATE_USER_RESET",Ke="UPDATE_USER_FAIL",Je="DELETE_USER_REQUEST",He="DELETE_USER_SUCCESS",$e="DELETE_USER_RESET",Ze="DELETE_USER_FAIL",Xe="BLOCK_USER_REQUEST",et="BLOCK_USER_SUCCESS",tt="BLOCK_USER_RESET",ct="BLOCK_USER_FAIL",at="BLOCKDATA_REQUEST",rt="BLOCKDATA_SUCCESS",st="BLOCKDATA_FAIL",nt="CLEAR_ERRORS",lt=function(){return function(){var e=Object(g.a)(f.a.mark((function e(t){var c,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:ge}),e.next=4,y.a.get("/api/v1/me");case 4:c=e.sent,a=c.data,t({type:ve,payload:a.user}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:ye,payload:e.t0.response.data.errorMessage});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},it=function(){return function(){var e=Object(g.a)(f.a.mark((function e(t){var c,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Qe}),e.next=4,y.a.get("/api/v1/admin/users");case 4:c=e.sent,a=c.data,t({type:Be,payload:a.users}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:Ye,payload:e.t0.response.data.errorMessage});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},ot=function(){return function(){var e=Object(g.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:nt});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},dt=function(){var e=Object(ie.d)(),t=Object(h.b)(),c=Object(h.c)((function(e){return e.auth})),a=c.user,s=c.loading,n=Object(h.c)((function(e){return e.cart})).cartItems;return Object(u.jsx)(r.Fragment,{children:Object(u.jsxs)("nav",{className:"navbar row",children:[Object(u.jsx)("div",{className:"col-12 col-md-3",children:Object(u.jsx)("div",{className:"navbar-brand",children:Object(u.jsx)(i.b,{to:"/",children:Object(u.jsx)("img",{src:"/images/logo2.png",alt:"Olive-zone"})})})}),Object(u.jsx)("div",{className:"col-12 col-md-6 mt-2 mt-md-0",children:Object(u.jsx)(be,{})}),Object(u.jsxs)("div",{className:"col-12 col-md-3 mt-4 mt-md-0 text-center",children:[Object(u.jsxs)(i.b,{to:"/cart",style:{textDecoration:"none"},children:[Object(u.jsx)("span",{id:"cart",className:"ms-3",children:"Cart"}),Object(u.jsx)("span",{className:"ms-1",id:"cart_count",children:n.length})]}),a?Object(u.jsxs)("div",{className:"ms-4 dropdown d-inline",children:[Object(u.jsxs)(i.b,{to:"#",className:"btn dropdown-toggle text-white",type:"button",id:"dropDownMenuButton","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:[Object(u.jsx)("figure",{className:"avatar avatar-nav",children:Object(u.jsx)("img",{src:a.avatar&&a.avatar.url,alt:a&&a.name,className:"rounded-circle"})}),Object(u.jsx)("span",{children:a&&a.name})]}),Object(u.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"dropDownMenuButton",children:[a&&"admin"!==a.role?null:Object(u.jsx)(i.b,{className:"dropdown-item",to:"/dashboard",children:"Dashboard"}),Object(u.jsx)(i.b,{className:"dropdown-item",to:"/orders/me",children:"Orders"}),Object(u.jsx)(i.b,{className:"dropdown-item",to:"/me",children:"Profile"}),Object(u.jsx)(i.b,{className:"dropdown-item text-danger",to:"/",onClick:function(){t(function(){var e=Object(g.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("/api/v1/logout");case 3:t({type:Ie}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t({type:Le,payload:e.t0.response.data.errorMessage});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),e.success("Logged out successfully")},children:"Logout"})]})]}):!s&&Object(u.jsx)(i.b,{to:"/login",className:"btn ms-4",id:"login_btn",children:"Login"})]})]})})},jt=c(219),ut="ADD_TO_CART",bt="CLEAR_CART",Ot="REMOVE_CART_ITEM",pt="SAVE_SHIPPING_INFO",mt=function(e,t){return function(){var c=Object(g.a)(f.a.mark((function c(a,r){var s,n;return f.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,y.a.get("/api/v1/product/".concat(e));case 2:s=c.sent,n=s.data,a({type:ut,payload:{product:n.product._id,name:n.product.name,price:n.product.price,image:n.product.images[0].url,stock:n.product.stock,quantity:t}}),localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems));case 6:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}()},ht=function(e){var t=e.reviews;return Object(u.jsxs)("div",{class:"reviews w-75",children:[Object(u.jsx)("h3",{children:"Other's Reviews:"}),Object(u.jsx)("hr",{}),t&&t.map((function(e){return Object(u.jsxs)("div",{class:"review-card my-3",children:[Object(u.jsx)("div",{class:"rating-outer",children:Object(u.jsx)("div",{class:"rating-inner",style:{width:"".concat(e.rating/5*100,"%")}})}),Object(u.jsxs)("p",{class:"review_user",children:["by ",e.name]}),Object(u.jsx)("p",{class:"review_comment",children:e.comment}),Object(u.jsx)("hr",{})]},e._id)}))]})},xt=function(){var e=Object(r.useState)(1),t=Object(d.a)(e,2),c=t[0],a=t[1],s=Object(r.useState)(0),n=Object(d.a)(s,2),l=n[0],i=n[1],j=Object(r.useState)(""),O=Object(d.a)(j,2),p=O[0],m=O[1],x=Object(o.h)(),v=Object(h.b)(),N=Object(ie.d)(),E=Object(h.c)((function(e){return e.productDetails})),S=E.loading,_=E.error,w=E.product,C=Object(h.c)((function(e){return e.auth})).user,R=Object(h.c)((function(e){return e.newReview})),T=R.error,A=R.success;Object(r.useEffect)((function(){v(ce(x.id)),_&&(N.error(_),v(se())),T&&(N.error(T),v(se())),A&&(N.success("Review added successfully"),v({type:q}))}),[v,N,_,T,A,x.id]);var D,k=0,U=0;return w.offerPercentage<=w.subCategoryOfferPercentage&&0!==w.subCategoryOfferPercentage?(k=w.subCategoryOfferPercentage,U=w.subCategoryOfferPrice,D=w.subCategoryOfferDetails):(k=w.offerPercentage,U=w.offerPrice,D=w.offerDetails),Object(u.jsx)(r.Fragment,{children:S?Object(u.jsx)(le,{}):Object(u.jsxs)(r.Fragment,{children:[Object(u.jsx)(b,{title:w.name}),Object(u.jsxs)("div",{className:"row f-flex justify-content-around",children:[Object(u.jsx)("div",{className:"col-12 col-lg-5 img-fluid",id:"product_image",children:Object(u.jsx)(jt.a,{pause:"hover",children:w.images&&w.images.map((function(e){return Object(u.jsx)(jt.a.Item,{children:Object(u.jsx)("img",{className:"d-block w-100 ",src:e.url,alt:w.name})},e.public_id)}))})}),Object(u.jsxs)("div",{className:"col-12 col-lg-5 mt-5",children:[Object(u.jsx)("h3",{children:w.name}),Object(u.jsxs)("p",{id:"product_id",children:["Product # ",w._id]}),Object(u.jsx)("hr",{}),Object(u.jsx)("div",{className:"rating-outer",children:Object(u.jsx)("div",{className:"rating-inner",style:{width:"".concat(w.ratings/5*100,"%")}})}),Object(u.jsxs)("span",{id:"no_of_reviews",children:["(",w.numOfReviews," Reviews)"]}),Object(u.jsx)("hr",{}),Object(u.jsx)("div",{className:"d-flex",children:k>0?Object(u.jsxs)(r.Fragment,{children:[Object(u.jsxs)("p",{className:"me-2",id:"",style:{textDecoration:"line-through",color:"red"},children:["\u20b9 ",w.price]}),Object(u.jsxs)("h5",{className:"me-3",children:["With ",k,"% off, Buy now at only"]}),Object(u.jsxs)("p",{id:"product_price",style:{color:"green"},children:["\u20b9 ",U]})]}):Object(u.jsxs)("p",{id:"product_price",children:["\u20b9 ",w.price]})}),w&&Object(u.jsx)("p",{children:D}),Object(u.jsxs)("div",{className:"stockCounter d-inline",children:[Object(u.jsx)("span",{className:"btn btn-danger minus",onClick:function(){var e=document.querySelector(".count");if(!(e.valueAsNumber<=1)){var t=e.valueAsNumber-1;a(t)}},children:"-"}),Object(u.jsx)("input",{type:"number",className:"form-control count d-inline",value:c,readOnly:!0}),Object(u.jsx)("span",{className:"btn btn-primary plus",onClick:function(){var e=document.querySelector(".count");if(!(e.valueAsNumber>=w.stock)){var t=e.valueAsNumber+1;a(t)}},children:"+"})]}),Object(u.jsx)("button",{type:"button",id:"cart_btn",className:"btn btn-primary d-inline ml-4",disabled:w.stock<=0,onClick:function(){v(mt(x.id,c)),N.success("Item added to cart")},children:"Add to Cart"}),Object(u.jsx)("hr",{}),Object(u.jsxs)("p",{children:["Status: ",Object(u.jsx)("span",{id:"stock_status",className:w.stock>0?"greenColor":"redColor",children:w.stock>0?"In Stock":"Out of Stock"})]}),Object(u.jsx)("hr",{}),Object(u.jsx)("h4",{className:"mt-2",children:"Description:"}),Object(u.jsx)("p",{children:w.description}),Object(u.jsx)("hr",{}),Object(u.jsxs)("p",{id:"product_seller mb-3",children:["Sold by: ",Object(u.jsx)("strong",{children:w.seller})]}),C?Object(u.jsx)("button",{id:"review_btn",type:"button",className:"btn btn-primary mt-4","data-bs-toggle":"modal","data-bs-target":"#ratingModal",onClick:function(){var e=document.querySelectorAll(".star");function t(t){var c=this;e.forEach((function(e,a){"click"===t.type&&(a<c.starValue?(e.classList.add("orange"),i(c.starValue)):e.classList.remove("orange")),"mouseover"===t.type&&(a<c.starValue?e.classList.add("yellow"):e.classList.remove("yellow")),"mouseout"===t.type&&e.classList.remove("yellow")}))}e.forEach((function(e,c){e.starValue=c+1,["click","mouseover","mouseout"].forEach((function(c){e.addEventListener(c,t)}))}))},children:"Submit Your Review"}):Object(u.jsx)("div",{className:"alert alert-danger mt-5",type:"alert",children:"Login to post your review."}),Object(u.jsx)("div",{className:"row mt-2 mb-5",children:Object(u.jsx)("div",{className:"rating w-50",children:Object(u.jsx)("div",{className:"modal fade",id:"ratingModal",tabIndex:"-1",role:"dialog","aria-labelledby":"ratingModalLabel","aria-hidden":"true",children:Object(u.jsx)("div",{className:"modal-dialog",role:"document",children:Object(u.jsxs)("div",{className:"modal-content",children:[Object(u.jsxs)("div",{className:"modal-header",children:[Object(u.jsx)("h5",{className:"modal-title",id:"ratingModalLabel",children:"Submit Review"}),Object(u.jsx)("button",{type:"button",className:"close","data-bs-dismiss":"modal","aria-label":"Close",children:Object(u.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(u.jsxs)("div",{className:"modal-body",children:[Object(u.jsxs)("ul",{className:"stars",children:[Object(u.jsx)("li",{className:"star",children:Object(u.jsx)("i",{className:"fa fa-star"})}),Object(u.jsx)("li",{className:"star",children:Object(u.jsx)("i",{className:"fa fa-star"})}),Object(u.jsx)("li",{className:"star",children:Object(u.jsx)("i",{className:"fa fa-star"})}),Object(u.jsx)("li",{className:"star",children:Object(u.jsx)("i",{className:"fa fa-star"})}),Object(u.jsx)("li",{className:"star",children:Object(u.jsx)("i",{className:"fa fa-star"})})]}),Object(u.jsx)("textarea",{name:"review",id:"review",className:"form-control mt-3",value:p,onChange:function(e){return m(e.target.value)}}),Object(u.jsx)("button",{className:"btn my-3 float-right review-btn px-4 text-white","data-bs-dismiss":"modal","aria-label":"Close",onClick:function(){var e,t=new FormData;t.set("rating",l),t.set("comment",p),t.set("productId",x.id),v((e=t,function(){var t=Object(g.a)(f.a.mark((function t(c){var a,r,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:Y}),a={headers:{"Content-Type":"application/json"}},t.next=5,y.a.put("/api/v1/review",e,a);case 5:r=t.sent,s=r.data,c({type:V,payload:s.success}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),c({type:z,payload:t.t0.response.data.errorMessage});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()))},children:"Submit"})]})]})})})})})]})]}),w.reviews&&w.reviews.length>0&&Object(u.jsx)(ht,{reviews:w.reviews})]})})},ft=function(){var e=Object(r.useState)(""),t=Object(d.a)(e,2),c=t[0],a=t[1],s=Object(r.useState)(""),n=Object(d.a)(s,2),l=n[0],j=n[1],O=Object(ie.d)(),p=Object(h.b)(),m=Object(o.g)(),x=Object(h.c)((function(e){return e.auth})),v=x.isAuthenticated,N=x.error,E=x.loading;Object(r.useEffect)((function(){v&&m("/"),N&&(O.error(N),p(ot()))}),[p,O,v,N,m]);return Object(u.jsx)(r.Fragment,{children:E?Object(u.jsx)(le,{}):Object(u.jsxs)(r.Fragment,{children:[Object(u.jsx)(b,{title:"Login"}),Object(u.jsx)("div",{className:"row wrapper",children:Object(u.jsx)("div",{className:"col-10 col-lg-5",children:Object(u.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault(),p(function(e,t){return function(){var c=Object(g.a)(f.a.mark((function c(a){var r,s,n;return f.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,a({type:Oe}),r={headers:{"Content-Type":"application/json"}},c.next=5,y.a.post("/api/v1/login",{email:e,password:t},r);case 5:s=c.sent,n=s.data,a({type:pe,payload:n.user}),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(0),a({type:me,payload:c.t0.response.data.errorMessage});case 13:case"end":return c.stop()}}),c,null,[[0,10]])})));return function(e){return c.apply(this,arguments)}}()}(c,l))},children:[Object(u.jsx)("h1",{className:"mb-3",children:"Login"}),Object(u.jsxs)("div",{className:"form-group mb-3",children:[Object(u.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object(u.jsx)("input",{type:"email",id:"email_field",className:"form-control",value:c,onChange:function(e){return a(e.target.value)}})]}),Object(u.jsxs)("div",{className:"form-group mb-3",children:[Object(u.jsx)("label",{htmlFor:"password_field",children:"Password"}),Object(u.jsx)("input",{type:"password",id:"password_field",className:"form-control",value:l,onChange:function(e){return j(e.target.value)}})]}),Object(u.jsx)(i.b,{to:"/password/forgot",className:"float-end mb-4",children:"Forgot Password?"}),Object(u.jsx)("div",{className:"d-grid gap-2 mx-auto",children:Object(u.jsx)("button",{id:"login_button",type:"submit",className:"btn btn-block py-3",children:"LOGIN"})}),Object(u.jsx)(i.b,{to:"/register",className:"float-end mt-3 mb-3",children:"New User?"})]})})})]})})},gt=c(20),vt=c(90),yt=c.n(vt),Nt=(c(209),function(){var e,t,c=Object(r.useState)({name:"",email:"",password:""}),s=Object(d.a)(c,2),n=s[0],l=s[1],i=n.name,j=n.email,O=n.password,p=Object(r.useState)("https://res.cloudinary.com/deb6scajo/image/upload/v1640784817/avatars/sample_dp_luhfir.png"),m=Object(d.a)(p,2),x=m[0],v=m[1],N=Object(ie.d)(),E=Object(h.b)(),S=Object(o.g)(),_=Object(h.c)((function(e){return e.auth})),w=_.isAuthenticated,C=_.error,R=_.loading,T=Object(r.useState)(),A=Object(d.a)(T,2),D=A[0],k=A[1],U=Object(r.useRef)(null),F=Object(r.useRef)(null),P=Object(r.useState)({unit:"%",width:30,aspect:1}),I=Object(d.a)(P,2),L=I[0],M=I[1],G=Object(r.useState)(null),W=Object(d.a)(G,2),Q=W[0],B=W[1],Y=Object(r.useState)(!1),V=Object(d.a)(Y,2),q=V[0],z=V[1],K=function(e){if("avatar"===e.target.name){var t=new FileReader;t.onload=function(){2===t.readyState&&v(t.result)},t.readAsDataURL(e.target.files[0])}else l(Object(a.a)(Object(a.a)({},n),{},Object(gt.a)({},e.target.name,e.target.value)))},J=Object(r.useCallback)((function(e){U.current=e}),[]);return Object(r.useEffect)((function(){if(w&&S("/"),C&&(N.error(C),E(ot())),Q&&F.current&&U.current){var e=U.current,t=F.current,c=Q,a=e.naturalWidth/e.width,r=e.naturalHeight/e.height,s=t.getContext("2d"),n=window.devicePixelRatio;t.width=c.width*n*a,t.height=c.height*n*r,s.setTransform(n,0,0,n,0,0),s.imageSmoothingQuality="high",s.drawImage(e,c.x*a,c.y*r,c.width*a,c.height*r,0,0,c.width*a,c.height*r)}}),[E,N,w,C,S,Q]),Object(u.jsxs)(r.Fragment,{children:[Object(u.jsx)(b,{title:"Register user"}),Object(u.jsx)("div",{className:"row wrapper",children:Object(u.jsx)("div",{className:"col-10 col-lg-5",children:Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t,c=new FormData;c.set("name",i),c.set("email",j),c.set("password",O),c.set("avatar",x),E((t=c,function(){var e=Object(g.a)(f.a.mark((function e(c){var a,r,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:he}),a={headers:{"Content-Type":"multipart/form-data"}},e.next=5,y.a.post("/api/v1/register",t,a);case 5:r=e.sent,s=r.data,c({type:xe,payload:s.user}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c({type:fe,payload:e.t0.response.data.errorMessage});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},className:"shadow-lg",encType:"multipart/form-data",children:[Object(u.jsx)("h1",{className:"mb-3",children:"Register"}),Object(u.jsxs)("div",{className:"form-group mb-3",children:[Object(u.jsx)("label",{htmlFor:"email_field",children:"Name"}),Object(u.jsx)("input",{type:"name",id:"name_field",className:"form-control",name:"name",value:i,onChange:K})]}),Object(u.jsxs)("div",{className:"form-group mb-3",children:[Object(u.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object(u.jsx)("input",{type:"email",id:"email_field",className:"form-control",name:"email",value:j,onChange:K})]}),Object(u.jsxs)("div",{className:"form-group mb-3",children:[Object(u.jsx)("label",{htmlFor:"password_field",children:"Password"}),Object(u.jsx)("input",{type:"password",id:"password_field",className:"form-control",name:"password",value:O,onChange:K})]}),Object(u.jsxs)(r.Fragment,{children:[Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"file",accept:"image/*",name:"avatar",onChange:function(e){!function(e){if(e.target.files&&e.target.files.length>0){var t=new FileReader;t.addEventListener("load",(function(){return k(t.result)})),t.readAsDataURL(e.target.files[0])}}(e)}})}),Object(u.jsx)(yt.a,{src:D,onImageLoaded:J,crop:L,onChange:function(e){return M(e)},onComplete:function(e){return B(e)}}),Object(u.jsx)("div",{children:Object(u.jsx)("canvas",{ref:F,style:{width:Math.round(null!==(e=null===Q||void 0===Q?void 0:Q.width)&&void 0!==e?e:0),height:Math.round(null!==(t=null===Q||void 0===Q?void 0:Q.height)&&void 0!==t?t:0)}})}),Object(u.jsx)("button",{type:"button",className:"btn btn-block me-3 py-3 ".concat(q?"bg-success":"bg-warning"),disabled:!(null===Q||void 0===Q?void 0:Q.width)||!(null===Q||void 0===Q?void 0:Q.height),onClick:function(){v(F.current.toDataURL()),z(!0)},children:"Confirm crop"})]}),Object(u.jsx)("button",{id:"register_button",type:"submit",className:"btn btn-block py-3",disabled:!(q&&!R),children:"REGISTER"})]})})})]})}),Et=c(34),St=c(92),_t=c(91),wt=c(18),Ct="CREATE_ORDER_REQUEST",Rt="CREATE_ORDER_SUCCESS",Tt="CREATE_ORDER_FAIL",At="MY_ORDERS_REQUEST",Dt="MY_ORDERS_SUCCESS",kt="MY_ORDERS_FAIL",Ut="ORDER_DETAILS_REQUEST",Ft="ORDER_DETAILS_SUCCESS",Pt="ORDER_DETAILS_FAIL",It="ALL_ORDERS_REQUEST",Lt="ALL_ORDERS_SUCCESS",Mt="ALL_ORDERS_FAIL",Gt="FILTER_ORDERS_REQUEST",Wt="FILTER_ORDERS_SUCCESS",Qt="FILTER_ORDERS_RESET",Bt="FILTER_ORDERS_FAIL",Yt="UPDATE_ORDERS_REQUEST",Vt="UPDATE_ORDERS_SUCCESS",qt="UPDATE_ORDERS_RESET",zt="UPDATE_ORDERS_FAIL",Kt="DELETE_ORDERS_REQUEST",Jt="DELETE_ORDERS_SUCCESS",Ht="DELETE_ORDERS_RESET",$t="DELETE_ORDERS_FAIL",Zt="WEEKDATA_REQUEST",Xt="WEEKDATA_SUCCESS",ec="BLOCKDATA_FAIL",tc="CLEAR_ERRORS",cc="GET_CATEGORIES_REQUEST",ac="GET_CATEGORIES_SUCCESS",rc="GET_CATEGORIES_FAIL",sc="GET_CATEGORY_REQUEST",nc="GET_CATEGORY_SUCCESS",lc="GET_CATEGORY_FAIL",ic="NEW_CATEGORY_REQUEST",oc="NEW_CATEGORY_SUCCESS",dc="NEW_CATEGORY_RESET",jc="NEW_CATEGORY_FAIL",uc="UPDATE_CATEGORY_REQUEST",bc="UPDATE_CATEGORY_SUCCESS",Oc="UPDATE_CATEGORY_RESET",pc="UPDATE_CATEGORY_FAIL",mc="DELETE_CATEGORY_REQUEST",hc="DELETE_CATEGORY_SUCCESS",xc="DELETE_CATEGORY_RESET",fc="DELETE_CATEGORY_FAIL",gc="NEW_SUBCATEGORY_REQUEST",vc="NEW_SUBCATEGORY_SUCCESS",yc="NEW_SUBCATEGORY_RESET",Nc="NEW_SUBCATEGORY_FAIL",Ec="UPDATE_SUBCATEGORY_REQUEST",Sc="UPDATE_SUBCATEGORY_SUCCESS",_c="UPDATE_SUBCATEGORY_RESET",wc="UPDATE_SUBCATEGORY_FAIL",Cc="DELETE_SUBCATEGORY_REQUEST",Rc="DELETE_SUBCATEGORY_SUCCESS",Tc="DELETE_SUBCATEGORY_RESET",Ac="DELETE_SUBCATEGORY_FAIL",Dc="CLEAR_ERRORS",kc=Object(Et.combineReducers)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:case _:return{loading:!0,products:[]};case E:return{loading:!1,products:t.payload.products,productsCount:t.payload.productCount,resPerPage:t.payload.resPerPage,filteredProductsCount:t.payload.filteredProductsCount};case w:return{loading:!1,products:t.payload};case S:case C:return{loading:!1,error:t.payload};case te:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case Q:return{loading:!1,product:t.payload};case B:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload});case te:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},newProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case T:return{loading:!1,success:t.payload.success,product:t.payload.product};case D:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload});case A:return Object(a.a)(Object(a.a)({},e),{},{success:!1});case te:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:case k:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case L:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isDeleted:t.payload});case U:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isUpdated:t.payload});case G:case P:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload});case M:return Object(a.a)(Object(a.a)({},e),{},{isDeleted:!1});case F:return Object(a.a)(Object(a.a)({},e),{},{isUpdated:!1});case te:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},productReviews:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{reviews:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case J:return{loading:!1,reviews:t.payload};case H:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload});case te:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},review:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case Z:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isDeleted:t.payload});case ee:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload});case X:return Object(a.a)(Object(a.a)({},e),{},{isDeleted:!1});case te:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe:case he:case ge:return{loading:!0,isAuthenticated:!1};case pe:case xe:case ve:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isAuthenticated:!0,user:t.payload});case Ie:return{loading:!1,isAuthenticated:!1,user:null};case me:case fe:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isAuthenticated:!1,user:null,error:t.payload});case ye:return{loading:!1,isAuthenticated:!1,user:null,error:t.payload};case Le:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload});case nt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne:case we:case Ve:case Xe:case Je:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case Ee:case Ce:case qe:case et:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isUpdated:t.payload});case He:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isDeleted:t.payload});case Se:case Re:case ze:case tt:return Object(a.a)(Object(a.a)({},e),{},{isUpdated:!1});case $e:return Object(a.a)(Object(a.a)({},e),{},{isDeleted:!1});case _e:case Te:case Ke:case Ze:case ct:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,error:t.payload});case nt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},allUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case Be:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,users:t.payload});case Ye:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,error:t.payload});case nt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Me:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case Ge:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,user:t.payload});case We:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,error:t.payload});case nt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},forgotPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae:case Ue:return Object(a.a)(Object(a.a)({},e),{},{loading:!0,error:null});case De:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,message:t.payload});case Fe:return Object(a.a)(Object(a.a)({},e),{},{success:t.payload});case ke:case Pe:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,error:t.payload});case nt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingInfo:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ut:var c=t.payload,r=e.cartItems.find((function(e){return e.product===c.product}));return r?Object(a.a)(Object(a.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===r.product?c:e}))}):Object(a.a)(Object(a.a)({},e),{},{cartItems:[].concat(Object(wt.a)(e.cartItems),[c])});case Ot:return Object(a.a)(Object(a.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});case bt:return Object(a.a)(Object(a.a)({},e),{},{cartItems:[]});case pt:return Object(a.a)(Object(a.a)({},e),{},{shippingInfo:t.payload});default:return e}},newOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ct:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case Rt:return{loading:!1,order:t.payload};case Tt:return{loading:!1,error:t.payload};case tc:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},myOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case At:return{loading:!0};case Dt:return{loading:!1,orders:t.payload};case kt:return{loading:!1,error:t.payload};case tc:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},allOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case It:case Gt:return{loading:!0};case Lt:return{loading:!1,orders:t.payload.orders,totalAmount:t.payload.totalAmount};case Wt:return{loading:!1,orders:t.payload.orders,success:t.payload.success};case Qt:return Object(a.a)(Object(a.a)({},e),{},{success:!1});case Mt:case Bt:return{loading:!1,error:t.payload};case tc:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{order:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ut:return{loading:!0};case Ft:return{loading:!1,order:t.payload};case Pt:return{loading:!1,error:t.payload};case tc:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Yt:case Kt:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case Vt:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isUpdated:t.payload});case Jt:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isDeleted:t.payload});case zt:case $t:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload});case qt:return Object(a.a)(Object(a.a)({},e),{},{isUpdated:!1});case Ht:return Object(a.a)(Object(a.a)({},e),{},{isDeleted:!1});case tc:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},newReview:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case V:return{loading:!1,success:t.payload};case z:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload});case q:return Object(a.a)(Object(a.a)({},e),{},{success:!1});case te:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{categories:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case cc:return{loading:!0,categories:[]};case ac:return{loading:!1,categories:t.payload};case rc:return{loading:!1,error:t.payload};case Dc:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},newCategory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ic:case uc:case mc:case gc:case Ec:case Cc:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case oc:case bc:case vc:case Sc:return{loading:!1,success:t.payload.success,category:t.payload.category};case hc:case Rc:return{loading:!1,isDeleted:t.payload.success};case jc:case pc:case fc:case Nc:case wc:case Ac:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload});case dc:case Oc:case yc:case _c:return Object(a.a)(Object(a.a)({},e),{},{success:!1});case xc:case Tc:return Object(a.a)(Object(a.a)({},e),{},{isDeleted:!1});case Dc:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},categoryDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{category:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case sc:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case nc:return{loading:!1,category:t.payload};case lc:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload});case Dc:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},blockData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case at:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case rt:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,blockedCount:t.payload});case st:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,error:t.payload});case nt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},weekData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Zt:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case Xt:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,weekData:t.payload});case ec:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,error:t.payload});case tc:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}}}),Uc={cart:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],shippingInfo:localStorage.getItem("shippingInfo")?JSON.parse(localStorage.getItem("shippingInfo")):{}}},Fc=[St.a],Pc=Object(Et.createStore)(kc,Uc,Object(_t.composeWithDevTools)(Et.applyMiddleware.apply(void 0,Fc))),Ic=function(){var e=Object(h.c)((function(e){return e.auth})),t=e.user,c=e.loading,a=e.isAuthenticated;return Object(u.jsx)(r.Fragment,{children:c?Object(u.jsx)(le,{}):a?Object(u.jsxs)(r.Fragment,{children:[Object(u.jsx)(b,{title:"My profile"}),Object(u.jsx)("h2",{className:"mt-5 ml-5",children:"My Profile"}),Object(u.jsxs)("div",{className:"row justify-content-around mt-5 user-info",children:[Object(u.jsxs)("div",{className:"col-12 col-md-3",children:[Object(u.jsx)("figure",{className:"avatar avatar-profile",children:Object(u.jsx)("img",{className:"rounded-circle img-fluid",src:t.avatar&&t.avatar.url,alt:t.name})}),Object(u.jsx)(i.b,{to:"/me/update",id:"edit_profile",className:"btn btn-primary btn-block my-5",children:"Edit Profile"})]}),Object(u.jsxs)("div",{className:"col-12 col-md-5",children:[Object(u.jsx)("h4",{children:"Full Name"}),Object(u.jsx)("p",{children:t.name}),Object(u.jsx)("h4",{children:"Email Address"}),Object(u.jsx)("p",{children:t.email}),Object(u.jsx)("h4",{children:"Joined on"}),Object(u.jsx)("p",{children:String(t.createdAt).substring(0,10)}),"admin"!==t.role&&Object(u.jsx)(i.b,{to:"/orders/me",className:"btn btn-danger btn-block mt-4 me-3",children:"My Orders"}),Object(u.jsx)(i.b,{to:"/password/update",className:"btn btn-primary btn-block mt-4 me-3",children:"Change Password"})]})]})]}):Object(u.jsx)(o.a,{to:"/login"})})},Lc=function(){var e=Object(r.useState)(""),t=Object(d.a)(e,2),c=t[0],a=t[1],s=Object(r.useState)(""),n=Object(d.a)(s,2),l=n[0],i=n[1],j=Object(r.useState)(""),O=Object(d.a)(j,2),p=O[0],m=O[1],x=Object(r.useState)(""),v=Object(d.a)(x,2),N=v[0],E=v[1],S=Object(r.useState)(""),_=Object(d.a)(S,2),w=_[0],C=_[1],R=Object(r.useState)("/images/camera.jpg"),T=Object(d.a)(R,2),A=T[0],D=T[1],k=Object(ie.d)(),U=Object(h.b)(),F=Object(o.g)(),P=Object(h.c)((function(e){return e.auth})),I=P.isAuthenticated,L=P.user,M=Object(h.c)((function(e){return e.user})),G=M.error,W=M.isUpdated,Q=M.loading;Object(r.useEffect)((function(){I&&(a(L.name),i(L.email),D(L.avatar.url)),G&&(k.error(G),U(ot())),W&&(k.success("User updated successfully"),U(lt()),F("/me"),U({type:Se}))}),[U,L,k,W,I,G,F]);return Object(u.jsxs)(r.Fragment,{children:[Object(u.jsx)(b,{title:"Update Profile"}),I?Object(u.jsx)("div",{className:"row wrapper",children:Object(u.jsx)("div",{className:"col-10 col-lg-5",children:Object(u.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,a=new FormData;a.set("name",c),a.set("email",l),a.set("address",p),a.set("addressUpdateId",N),a.set("avatar",w),U((t=a,function(){var e=Object(g.a)(f.a.mark((function e(c){var a,r,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:Ne}),a={headers:{"Content-Type":"multipart/form-data"}},e.next=5,y.a.put("/api/v1/me/update",t,a);case 5:r=e.sent,s=r.data,c({type:Ee,payload:s.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c({type:_e,payload:e.t0.response.data.errorMessage});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},encType:"multipart/form-data",children:[Object(u.jsx)("h1",{className:"mt-2 mb-5",children:"Update Profile"}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"email_field",children:"Name"}),Object(u.jsx)("input",{type:"name",id:"name_field",className:"form-control",name:"name",value:c,onChange:function(e){return a(e.target.value)}})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object(u.jsx)("input",{type:"email",id:"email_field",className:"form-control",name:"email",value:l,onChange:function(e){return i(e.target.value)}})]}),L.addresses.length>0&&Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"addresses",children:"Saved Addresses"}),Object(u.jsx)("div",{class:"list-group",id:"addresses",children:L.addresses.map((function(e){return Object(u.jsx)("button",{type:"button",class:"list-group-item list-group-item-action","aria-current":"true",onClick:function(){E(e._id),m(e.address)},children:e.address})}))})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"address_field",children:"Address"}),Object(u.jsx)("input",{type:"text",id:"address_field",className:"form-control",name:"address",placeholder:"add new address or click on saved address to edit",value:p,onChange:function(e){m(e.target.value)}})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"avatar_upload",children:"Avatar"}),Object(u.jsxs)("div",{className:"d-flex align-items-center",children:[Object(u.jsx)("div",{children:Object(u.jsx)("figure",{className:"avatar mr-3 item-rtl",children:Object(u.jsx)("img",{src:A,className:"rounded-circle",alt:"Avatar Preview"})})}),Object(u.jsxs)("div",{className:"custom-file",children:[Object(u.jsx)("input",{type:"file",name:"avatar",className:"custom-file-input",id:"customFile",accept:"images/*",onChange:function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&(D(t.result),C(t.result))},t.readAsDataURL(e.target.files[0])}}),Object(u.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:"Choose Avatar"})]})]})]}),Object(u.jsx)("button",{type:"submit",className:"btn update-btn btn-block mt-4 mb-3",disabled:!!Q,children:"Update"})]})})}):Object(u.jsx)(o.a,{to:"/login"})]})},Mc=function(){var e=Object(r.useState)(""),t=Object(d.a)(e,2),c=t[0],a=t[1],s=Object(r.useState)(""),n=Object(d.a)(s,2),l=n[0],i=n[1],j=Object(ie.d)(),O=Object(h.b)(),p=Object(o.g)(),m=Object(h.c)((function(e){return e.auth})).isAuthenticated,x=Object(h.c)((function(e){return e.user})),v=x.error,N=x.isUpdated,E=x.loading;Object(r.useEffect)((function(){v&&(j.error(v),O(ot())),N&&(j.success("Password updated successfully"),p("/me"),O({type:Re}))}),[O,j,N,m,v,p]);return Object(u.jsxs)(r.Fragment,{children:[Object(u.jsx)(b,{title:"Change password"}),m?Object(u.jsx)("div",{className:"row wrapper",children:Object(u.jsx)("div",{className:"col-10 col-lg-5",children:Object(u.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,a=new FormData;a.set("oldPassword",c),a.set("password",l),O((t=a,function(){var e=Object(g.a)(f.a.mark((function e(c){var a,r,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:we}),a={headers:{"Content-Type":"appllication/json"}},e.next=5,y.a.put("/api/v1/password/update",t,a);case 5:r=e.sent,s=r.data,c({type:Ce,payload:s.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c({type:Te,payload:e.t0.response.data.errorMessage});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(u.jsx)("h1",{className:"mt-2 mb-5",children:"Update Password"}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"old_password_field",children:"Old Password"}),Object(u.jsx)("input",{type:"password",id:"old_password_field",className:"form-control",value:c,onChange:function(e){return a(e.target.value)}})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"new_password_field",children:"New Password"}),Object(u.jsx)("input",{type:"password",id:"new_password_field",className:"form-control",value:l,onChange:function(e){return i(e.target.value)}})]}),Object(u.jsx)("button",{type:"submit",disabled:!!E,className:"btn update-btn btn-block mt-4 mb-3",children:"Update Password"})]})})}):Object(u.jsx)(o.a,{to:"/login"})]})},Gc=function(){var e=Object(r.useState)(""),t=Object(d.a)(e,2),c=t[0],a=t[1],s=Object(ie.d)(),n=Object(h.b)(),l=Object(h.c)((function(e){return e.forgotPassword})),i=l.error,o=l.message,j=l.loading;Object(r.useEffect)((function(){i&&(s.error(i),n(ot())),o&&s.success(o)}),[n,s,i,o]);return Object(u.jsxs)(r.Fragment,{children:[Object(u.jsx)(b,{title:"Forgot password"}),Object(u.jsx)("div",{className:"row wrapper",children:Object(u.jsx)("div",{className:"col-10 col-lg-5",children:Object(u.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t=new FormData;t.set("email",c),n(function(e){return function(){var t=Object(g.a)(f.a.mark((function t(c){var a,r,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:Ae}),a={headers:{"Content-Type":"appllication/json"}},t.next=5,y.a.post("/api/v1/password/forgot",e,a);case 5:r=t.sent,s=r.data,c({type:De,payload:s.message}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),c({type:ke,payload:t.t0.response.data.errorMessage});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(t))},children:[Object(u.jsx)("h1",{className:"mb-3",children:"Forgot Password"}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"email_field",children:"Enter Email"}),Object(u.jsx)("input",{type:"email",id:"email_field",className:"form-control",value:c,onChange:function(e){return a(e.target.value)}})]}),Object(u.jsx)("button",{id:"forgot_password_button",type:"submit",disabled:!!j,className:"btn btn-block py-3",children:"Send Email"})]})})})]})},Wc=function(){var e=Object(r.useState)(""),t=Object(d.a)(e,2),c=t[0],a=t[1],s=Object(r.useState)(""),n=Object(d.a)(s,2),l=n[0],i=n[1],j=Object(o.g)(),O=Object(o.h)(),p=Object(ie.d)(),m=Object(h.b)(),x=Object(h.c)((function(e){return e.forgotPassword})),v=x.error,N=x.success;Object(r.useEffect)((function(){v&&(p.error(v),m(ot())),N&&(p.success("Password updated successfully"),j("/login"))}),[m,p,v,N,j]);return Object(u.jsxs)(r.Fragment,{children:[Object(u.jsx)(b,{title:"Password Reset"}),Object(u.jsx)("div",{className:"row wrapper",children:Object(u.jsx)("div",{className:"col-10 col-lg-5",children:Object(u.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,a,r=new FormData;r.set("password",c),r.set("confirmPassword",l),m((t=O.token,a=r,function(){var e=Object(g.a)(f.a.mark((function e(c){var r,s,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:Ue}),r={headers:{"Content-Type":"appllication/json"}},e.next=5,y.a.put("/api/v1/password/reset/".concat(t),a,r);case 5:s=e.sent,n=s.data,c({type:Fe,payload:n.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c({type:Pe,payload:e.t0.response.data.errorMessage});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(u.jsx)("h1",{className:"mb-3",children:"New Password"}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"password_field",children:"Password"}),Object(u.jsx)("input",{type:"password",id:"password_field",className:"form-control",value:c,onChange:function(e){return a(e.target.value)}})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"confirm_password_field",children:"Confirm Password"}),Object(u.jsx)("input",{type:"password",id:"confirm_password_field",className:"form-control",value:l,onChange:function(e){return i(e.target.value)}})]}),Object(u.jsx)("button",{id:"new_password_button",type:"submit",className:"btn btn-block py-3",children:"Set Password"})]})})})]})},Qc=function(){var e=Object(h.b)(),t=Object(o.g)(),c=Object(h.c)((function(e){return e.cart})).cartItems,a=function(t){e(function(e){return function(){var t=Object(g.a)(f.a.mark((function t(c,a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c({type:Ot,payload:e}),localStorage.setItem("cartItems",JSON.stringify(a().cart.cartItems));case 2:case"end":return t.stop()}}),t)})));return function(e,c){return t.apply(this,arguments)}}()}(t))};return Object(u.jsxs)(r.Fragment,{children:[Object(u.jsx)(b,{title:"Cart"}),0===c.length?Object(u.jsx)("h2",{classNamename:"mt-5",children:"your cart is empty"}):Object(u.jsxs)(r.Fragment,{children:[Object(u.jsxs)("h2",{className:"mt-5",children:["Your Cart has : ",Object(u.jsxs)("b",{children:[c.length," items"]})]}),Object(u.jsxs)("div",{className:"row d-flex justify-content-between",children:[Object(u.jsxs)("div",{className:"col-12 col-lg-8",children:[c.map((function(t){return Object(u.jsxs)(r.Fragment,{children:[Object(u.jsx)("hr",{}),Object(u.jsx)("div",{className:"cart-item",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-4 col-lg-3",children:Object(u.jsx)("img",{src:t.image,alt:t.name,height:"90",width:"115"})}),Object(u.jsx)("div",{className:"col-5 col-lg-3",children:Object(u.jsx)(i.b,{to:"/product/".concat(t.product),children:t.name})}),Object(u.jsx)("div",{className:"col-4 col-lg-2 mt-4 mt-lg-0",children:Object(u.jsxs)("p",{id:"card_item_price",children:["\u20b9",t.price]})}),Object(u.jsx)("div",{className:"col-4 col-lg-3 mt-4 mt-lg-0",children:Object(u.jsxs)("div",{className:"stockCounter d-inline",children:[Object(u.jsx)("span",{className:"btn btn-danger minus",onClick:function(){return function(t,c){var a=c-1;a<=0||e(mt(t,a))}(t.product,t.quantity)},children:"-"}),Object(u.jsx)("input",{type:"number",className:"form-control count d-inline",value:t.quantity,readOnly:!0}),Object(u.jsx)("span",{className:"btn btn-primary plus",onClick:function(){return function(t,c,a){var r=c+1;r>a||e(mt(t,r))}(t.product,t.quantity,t.stock)},children:"+"})]})}),Object(u.jsx)("div",{className:"col-4 col-lg-1 mt-4 mt-lg-0",children:Object(u.jsx)("i",{id:"delete_cart_item",className:"fa fa-trash btn btn-danger",onClick:function(){return a(t.product)}})})]})},t.product)]})})),Object(u.jsx)("hr",{})]}),Object(u.jsx)("div",{className:"col-12 col-lg-3 my-4",children:Object(u.jsxs)("div",{id:"order_summary",children:[Object(u.jsx)("h4",{children:"Order Summary"}),Object(u.jsx)("hr",{}),Object(u.jsxs)("p",{children:["Subtotal:  ",Object(u.jsxs)("span",{className:"order-summary-values",children:[c.reduce((function(e,t){return e+Number(t.quantity)}),0)," (Units)"]})]}),Object(u.jsxs)("p",{children:["Est. total: ",Object(u.jsxs)("span",{className:"order-summary-values",children:["\u20b9",c.reduce((function(e,t){return e+t.quantity*t.price}),0).toFixed(2)]})]}),Object(u.jsx)("hr",{}),Object(u.jsx)("button",{id:"checkout_btn",className:"btn btn-primary btn-block",onClick:function(){t("/shipping")},children:"Check out"})]})})]})]})]})},Bc=c(93),Yc=function(e){var t=e.shipping,c=e.confirmOrder,a=e.payment;return Object(u.jsxs)("div",{className:"checkout-progress d-flex justify-content-center mt-5",children:[t?Object(u.jsxs)(i.b,{to:"/shipping",className:"float-right",children:[Object(u.jsx)("div",{className:"triangle2-active"}),Object(u.jsx)("div",{className:"step active-step",children:"Shipping"}),Object(u.jsx)("div",{className:"triangle-active"})]}):Object(u.jsxs)(i.b,{to:"#",disabled:!0,children:[Object(u.jsx)("div",{className:"triangle2-incomplete"}),Object(u.jsx)("div",{className:"step incomplete",children:"Shipping"}),Object(u.jsx)("div",{className:"triangle-incomplete"})]}),c?Object(u.jsxs)(i.b,{to:"/order/confirm",className:"float-right",children:[Object(u.jsx)("div",{className:"triangle2-active"}),Object(u.jsx)("div",{className:"step active-step",children:"Confirm Order"}),Object(u.jsx)("div",{className:"triangle-active"})]}):Object(u.jsxs)(i.b,{to:"#",disabled:!0,children:[Object(u.jsx)("div",{className:"triangle2-incomplete"}),Object(u.jsx)("div",{className:"step incomplete",children:"Confirm Order"}),Object(u.jsx)("div",{className:"triangle-incomplete"})]}),a?Object(u.jsxs)(i.b,{to:"/payment",className:"float-right",children:[Object(u.jsx)("div",{className:"triangle2-active"}),Object(u.jsx)("div",{className:"step active-step",children:"Payment"}),Object(u.jsx)("div",{className:"triangle-active"})]}):Object(u.jsxs)(i.b,{to:"#",disabled:!0,children:[Object(u.jsx)("div",{className:"triangle2-incomplete"}),Object(u.jsx)("div",{className:"step incomplete",children:"Payment"}),Object(u.jsx)("div",{className:"triangle-incomplete"})]})]})},Vc=function(){var e=Object.values(Bc.countries),t=Object(h.c)((function(e){return e.cart})).shippingInfo,c=Object(h.c)((function(e){return e.auth})).isAuthenticated,a=Object(r.useState)(t.address),s=Object(d.a)(a,2),n=s[0],l=s[1],i=Object(r.useState)(t.city),j=Object(d.a)(i,2),O=j[0],p=j[1],m=Object(r.useState)(t.postalCode),x=Object(d.a)(m,2),v=x[0],y=x[1],N=Object(r.useState)(t.phoneNo),E=Object(d.a)(N,2),S=E[0],_=E[1],w=Object(r.useState)(t.country),C=Object(d.a)(w,2),R=C[0],T=C[1],A=Object(h.b)(),D=Object(o.g)();return Object(u.jsxs)(r.Fragment,{children:[Object(u.jsx)(b,{title:"Shipping info"}),c?Object(u.jsxs)(r.Fragment,{children:[Object(u.jsx)(Yc,{shipping:!0}),Object(u.jsx)("div",{className:"row wrapper",children:Object(u.jsx)("div",{className:"col-10 col-lg-5",children:Object(u.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){var t;e.preventDefault(),A((t={address:n,city:O,phoneNo:S,postalCode:v,country:R},function(){var e=Object(g.a)(f.a.mark((function e(c){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c({type:pt,payload:t}),localStorage.setItem("shippingInfo",JSON.stringify(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),D("/order/confirm")},children:[Object(u.jsx)("h1",{className:"mb-4",children:"Shipping Info"}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"address_field",children:"Address"}),Object(u.jsx)("input",{type:"text",id:"address_field",className:"form-control",value:n,onChange:function(e){return l(e.target.value)},required:!0})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"city_field",children:"City"}),Object(u.jsx)("input",{type:"text",id:"city_field",className:"form-control",value:O,onChange:function(e){return p(e.target.value)},required:!0})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"phone_field",children:"Phone No"}),Object(u.jsx)("input",{type:"phone",id:"phone_field",className:"form-control",value:S,onChange:function(e){return _(e.target.value)},required:!0})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"postal_code_field",children:"Postal Code"}),Object(u.jsx)("input",{type:"number",id:"postal_code_field",className:"form-control",value:v,onChange:function(e){return y(e.target.value)},required:!0})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"country_field",children:"Country"}),Object(u.jsx)("select",{id:"country_field",className:"form-control",value:R,onChange:function(e){return T(e.target.value)},required:!0,children:e.map((function(e){return Object(u.jsx)("option",{value:e.name,children:e.name},e.name)}))})]}),Object(u.jsx)("button",{id:"shipping_btn",type:"submit",className:"btn btn-block py-3",children:"CONTINUE"})]})})})]}):Object(u.jsx)(o.a,{to:"/login"})]})},qc=c(94),zc=function(e){return function(){var t=Object(g.a)(f.a.mark((function t(c,a){var r,s,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:Ct}),r={headers:{"Content-Type":"application/json"}},t.next=5,y.a.post("/api/v1/order/new",e,r);case 5:s=t.sent,n=s.data,c({type:Rt,payload:n}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),c({type:Tt,payload:t.t0.response.data.errorMessage});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,c){return t.apply(this,arguments)}}()},Kc=function(e){return function(){var t=Object(g.a)(f.a.mark((function t(c){var a,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:Ut}),t.next=4,y.a.get("/api/v1/order/".concat(e));case 4:a=t.sent,r=a.data,c({type:Ft,payload:r.order}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:Pt,payload:t.t0.response.data.errorMessage});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},Jc=function(){return function(){var e=Object(g.a)(f.a.mark((function e(t){var c,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:It}),e.next=4,y.a.get("/api/v1/admin/orders");case 4:c=e.sent,a=c.data,t({type:Lt,payload:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:Mt,payload:e.t0.response.data.errorMessage});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},Hc=function(){return function(){var e=Object(g.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:tc});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};function $c(e){return new Promise((function(t){var c=document.createElement("script");c.src=e,document.body.appendChild(c),c.onload=function(){t(!0)},c.onerror=function(){t(!1)}}))}var Zc=function(){var e=Object(o.g)(),t=Object(h.b)(),c=Object(ie.d)(),a=Object(h.c)((function(e){return e.cart})),s=a.cartItems,n=a.shippingInfo,l=Object(h.c)((function(e){return e.auth})),j=l.user,O=l.isAuthenticated,p=Object(h.c)((function(e){return e.newOrder})).error,m=Object(r.useState)(""),x=Object(d.a)(m,2),v=x[0],N=x[1],E=Object(r.useState)(null),S=Object(d.a)(E,2),_=S[0],w=S[1],C=s.reduce((function(e,t){return e+t.price*t.quantity}),0),R=C>200?0:25,T=Number((.05*C).toFixed(2)),A=Number((C+R+T).toFixed(2)),D={orderItems:s,shippingInfo:n,itemsPrice:C.toFixed(2),shippingPrice:R,taxPrice:T,totalPrice:A};Object(r.useEffect)((function(){p&&(c.error(p),t(Hc()))}),[t,p,c]);var k=function(){D.paymentInfo={id:_,status:"success"},t(zc(D)),e("/success")};function U(){return(U=Object(g.a)(f.a.mark((function e(){var t,a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$c("https://checkout.razorpay.com/v1/checkout.js");case 2:if(e.sent){e.next=6;break}return c.error("Razorpay sdk failed to load. Please try again."),e.abrupt("return");case 6:return t={headers:{"Content-Type":"application/json"}},e.prev=7,e.next=10,y.a.post("/api/v1/razorpay",D,t);case 10:a=e.sent,console.log(a),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),console.log(e.t0.response.data.errorMessage);case 17:a?(r={key:"rzp_test_toTgvsLqs5fQjG",amount:a.data.amount,currency:"INR",name:"OliveZone",description:"Complete payment to place your order",image:"/images/logo2.png",order_id:a.data.id,handler:function(e){w(e.razorpay_payment_id),k()},prefill:{name:j.name,email:j.email,contact:n.phoneNo},notes:{address:"Razorpay Corporate Office"},theme:{color:"#e0a85a"}},new window.Razorpay(r).open()):c.error("Something went wrong, please try again");case 18:case"end":return e.stop()}}),e,null,[[7,14]])})))).apply(this,arguments)}return Object(u.jsxs)(r.Fragment,{children:[Object(u.jsx)(b,{title:"Confirm order"}),O?Object(u.jsxs)(r.Fragment,{children:[Object(u.jsx)(Yc,{shipping:!0,confirmOrder:!0}),Object(u.jsxs)("div",{className:"row d-flex justify-content-between",children:[Object(u.jsxs)("div",{className:"col-12 col-lg-8 mt-5 order-confirm",children:[Object(u.jsx)("h4",{className:"mb-3",children:"Shipping Info"}),Object(u.jsxs)("p",{children:[Object(u.jsx)("b",{children:"Name:"}),j&&j.name]}),Object(u.jsxs)("p",{children:[Object(u.jsx)("b",{children:"Phone:"}),n.phoneNo]}),Object(u.jsxs)("p",{className:"mb-4",children:[Object(u.jsx)("b",{children:"Address:"}),"".concat(n.address,", ").concat(n.city,", ").concat(n.postalCode,", ").concat(n.country)]}),Object(u.jsx)("hr",{}),Object(u.jsx)("h4",{className:"mt-4",children:"Your Cart Items:"}),s.map((function(e){return Object(u.jsxs)(r.Fragment,{children:[Object(u.jsx)("hr",{}),Object(u.jsx)("div",{className:"cart-item my-1",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-4 col-lg-2",children:Object(u.jsx)("img",{src:e.image,alt:e.name,height:"45",width:"65"})}),Object(u.jsx)("div",{className:"col-5 col-lg-6",children:Object(u.jsx)(i.b,{to:"/product/".concat(e.product),children:e.name})}),Object(u.jsx)("div",{className:"col-4 col-lg-4 mt-4 mt-lg-0",children:Object(u.jsxs)("p",{children:[e.quantity," x \u20b9 ",e.price," = ",Object(u.jsxs)("b",{children:["\u20b9 ",e.quantity*e.price]})]})})]})},e.product)]})})),Object(u.jsx)("hr",{})]}),Object(u.jsx)("div",{className:"col-12 col-lg-3 my-4",children:Object(u.jsxs)("div",{id:"order_summary",children:[Object(u.jsx)("h4",{children:"Order Summary"}),Object(u.jsx)("hr",{}),Object(u.jsxs)("p",{children:["Subtotal:  ",Object(u.jsxs)("span",{className:"order-summary-values",children:["\u20b9 ",C]})]}),Object(u.jsxs)("p",{children:["Shipping: ",Object(u.jsxs)("span",{className:"order-summary-values",children:["\u20b9 ",R]})]}),Object(u.jsxs)("p",{children:["Tax:  ",Object(u.jsxs)("span",{className:"order-summary-values",children:["\u20b9 ",T]})]}),Object(u.jsx)("hr",{}),Object(u.jsxs)("p",{children:["Total: ",Object(u.jsxs)("span",{className:"order-summary-values",children:["\u20b9 ",A]})]}),Object(u.jsx)("hr",{}),Object(u.jsx)("h4",{children:"Payment methods"}),Object(u.jsx)("hr",{}),Object(u.jsxs)("form",{children:[Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("input",{type:"radio",id:"cash-on-delivery",name:"payment-method",value:"COD",onChange:function(e){return N(e.target.value)}}),Object(u.jsx)("label",{htmlFor:"cash-on-delivery",children:"\xa0\xa0COD"})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("input",{type:"radio",id:"cash-on-delivery",name:"payment-method",value:"Razorpay",onChange:function(e){return N(e.target.value)}}),Object(u.jsx)("label",{htmlFor:"cash-on-delivery",children:"\xa0\xa0Razorpay"})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("input",{type:"radio",id:"cash-on-delivery",name:"payment-method",value:"Paypal",onChange:function(e){return N(e.target.value)}}),Object(u.jsx)("label",{htmlFor:"cash-on-delivery",children:"\xa0\xa0Paypal"})]})]}),v&&"Paypal"!==v&&Object(u.jsxs)("button",{id:"checkout_btn",className:"btn btn-primary btn-block",onClick:"COD"===v?function(){D.paymentInfo={id:"COD",status:"COD"},t(zc(D)),e("/success")}:function(){"Razorpay"===v&&function(){U.apply(this,arguments)}()},children:["Proceed to ","COD"===v?"place order":"Razorpay"]}),v&&"Paypal"===v&&Object(u.jsx)(qc.PayPalButton,{amount:A,onSuccess:function(c,a){console.log(c),console.log(a),function(c,a){D.paymentInfo=c.id,t(zc(D)),e("/success")}(c)}})]})})]})]}):Object(u.jsx)(o.a,{to:"/login"})]})},Xc=c(26),ea=c(95),ta={style:{base:{fontSize:"16px"},invalid:{color:"#9e2146"}}},ca=function(){var e=Object(h.c)((function(e){return e.auth})).isAuthenticated,t=Object(r.useState)(""),c=Object(d.a)(t,2),a=c[0],s=c[1];return Object(r.useEffect)((function(){function e(){return(e=Object(g.a)(f.a.mark((function e(){var t,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/v1/stripe/api");case 2:t=e.sent,c=t.data,s(c.stripeApiKey);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(u.jsxs)(r.Fragment,{children:[Object(u.jsx)(b,{title:"Payment"}),e?Object(u.jsx)(Xc.Elements,{stripe:Object(ea.a)(a),children:Object(u.jsxs)(r.Fragment,{children:[Object(u.jsx)(Yc,{shipping:!0,confirmOrder:!0,payment:!0}),Object(u.jsx)("div",{className:"row wrapper",children:Object(u.jsx)("div",{className:"col-10 col-lg-5",children:Object(u.jsxs)("form",{className:"shadow-lg",children:[Object(u.jsx)("h1",{className:"mb-4",children:"Card Info"}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)(Xc.PaymentElement,{}),Object(u.jsx)("label",{htmlFor:"card_num_field",children:"Card Number"}),Object(u.jsx)(Xc.CardNumberElement,{type:"text",id:"card_num_field",className:"form-control",options:ta})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"card_exp_field",children:"Card Expiry"}),Object(u.jsx)(Xc.CardExpiryElement,{type:"text",id:"card_exp_field",className:"form-control",options:ta})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"card_cvc_field",children:"Card CVC"}),Object(u.jsx)(Xc.CardCvcElement,{type:"text",id:"card_cvc_field",className:"form-control",options:ta})]}),Object(u.jsx)("button",{id:"pay_btn",type:"submit",className:"btn btn-block py-3",children:"Pay"})]})})})]})}):Object(u.jsx)(o.a,{to:"/login"})]})},aa=function(){Object(h.b)()({type:bt}),localStorage.removeItem("cartItems");var e=Object(h.c)((function(e){return e.auth})).isAuthenticated;return Object(u.jsx)(r.Fragment,{children:e?Object(u.jsxs)(r.Fragment,{children:[Object(u.jsx)(b,{title:"Order Success"}),Object(u.jsx)("div",{className:"row justify-content-center",children:Object(u.jsxs)("div",{className:"col-6 mt-5 text-center",children:[Object(u.jsx)("img",{className:"my-5 img-fluid d-block mx-auto",src:"/images/success_image.png",alt:"Order Success",width:"200",height:"200"}),Object(u.jsx)("h2",{children:"Your Order has been placed successfully."}),Object(u.jsx)(i.b,{to:"/orders/me",children:"Go to Orders"})]})})]}):Object(u.jsx)(o.a,{to:"/login"})})},ra=function(){var e=Object(ie.d)(),t=Object(h.b)(),c=Object(h.c)((function(e){return e.myOrders})),a=c.loading,s=c.error,n=c.orders,l=Object(h.c)((function(e){return e.auth})).isAuthenticated;return Object(r.useEffect)((function(){t(function(){var e=Object(g.a)(f.a.mark((function e(t){var c,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:At}),e.next=4,y.a.get("/api/v1/orders/me");case 4:c=e.sent,a=c.data,t({type:Dt,payload:a.orders}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:kt,payload:e.t0.response.data.errorMessage});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()),s&&(e.error(s),t(Hc()))}),[t,e,s]),Object(u.jsx)(r.Fragment,{children:l?Object(u.jsxs)(r.Fragment,{children:[Object(u.jsx)(b,{title:"My orders"}),Object(u.jsx)("h1",{className:"mt-5",children:"My orders"}),a?Object(u.jsx)(le,{}):Object(u.jsxs)("table",{className:"table table-striped",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"col",children:"Order ID"}),Object(u.jsx)("th",{scope:"col",children:"No of Items"}),Object(u.jsx)("th",{scope:"col",children:"Amount"}),Object(u.jsx)("th",{scope:"col",children:"Status"}),Object(u.jsx)("th",{scope:"col",children:"Actions"})]})}),Object(u.jsx)("tbody",{children:n&&n.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"row",children:e._id}),Object(u.jsx)("td",{children:e.orderItems.length}),Object(u.jsx)("td",{children:e.totalPrice}),Object(u.jsx)("td",{children:e.orderStatus&&String(e.orderStatus).includes("Delivered")?Object(u.jsx)("p",{style:{color:"green"},children:e.orderStatus}):Object(u.jsx)("p",{style:{color:"red"},children:e.orderStatus})}),Object(u.jsx)("td",{children:Object(u.jsx)(i.b,{to:"/orders/".concat(e._id),className:"btn btn-primary",children:Object(u.jsx)("i",{className:"fa fa-eye"})})})]},e._id)}))})]})]}):Object(u.jsx)(o.a,{to:"/login"})})},sa=c(19),na=c(52),la=function(){return Object(u.jsx)("div",{className:"sidebar-wrapper",children:Object(u.jsx)("nav",{id:"sidebar",children:Object(u.jsxs)("ul",{className:"list-unstyled components",children:[Object(u.jsx)("li",{children:Object(u.jsxs)(i.b,{to:"/dashboard",children:[Object(u.jsx)("i",{className:"fa fa-tachometer"})," Dashboard"]})}),Object(u.jsx)("li",{children:Object(u.jsxs)(i.b,{to:"/admin/salesreport",children:[Object(u.jsx)("i",{className:"fa fa-line-chart"})," SalesReport"]})}),Object(u.jsxs)("li",{children:[Object(u.jsxs)(i.b,{to:"#productSubmenu","data-bs-toggle":"collapse","aria-expanded":"false",className:"dropdown-toggle",children:[Object(u.jsx)("i",{className:"fa fa-product-hunt"})," Products "]}),Object(u.jsxs)("ul",{className:"collapse list-unstyled",id:"productSubmenu",children:[Object(u.jsx)("li",{children:Object(u.jsxs)(i.b,{to:"/admin/products",children:[Object(u.jsx)("i",{className:"fa fa-list"})," All"]})}),Object(u.jsx)("li",{children:Object(u.jsxs)(i.b,{to:"/admin/product",children:[Object(u.jsx)("i",{className:"fa fa-plus"})," Create"]})})]})]}),Object(u.jsxs)("li",{children:[Object(u.jsxs)(i.b,{to:"#categorySubmenu","data-bs-toggle":"collapse","aria-expanded":"false",className:"dropdown-toggle",children:[Object(u.jsx)("i",{className:"fa fa-sort-amount-asc"})," Categories "]}),Object(u.jsx)("ul",{className:"collapse list-unstyled",id:"categorySubmenu",children:Object(u.jsx)("li",{children:Object(u.jsxs)(i.b,{to:"/admin/categories",children:[Object(u.jsx)("i",{className:"fa fa-list"})," All"]})})})]}),Object(u.jsx)("li",{children:Object(u.jsxs)(i.b,{to:"/admin/orders",children:[Object(u.jsx)("i",{className:"fa fa-shopping-bag"})," Orders"]})}),Object(u.jsx)("li",{children:Object(u.jsxs)(i.b,{to:"/admin/users",children:[Object(u.jsx)("i",{className:"fa fa-users"})," Users"]})}),Object(u.jsx)("li",{children:Object(u.jsxs)(i.b,{to:"/admin/reviews",children:[Object(u.jsx)("i",{className:"fa fa-star"})," Reviews"]})})]})})})},ia=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e.auth})),c=t.user,a=t.isAuthenticated,s=Object(h.c)((function(e){return e.products})).products,n=Object(h.c)((function(e){return e.allOrders})),l=n.orders,d=n.totalAmount,j=n.loading,O=Object(h.c)((function(e){return e.blockData})),p=O.loading,m=O.blockedCount,x=Object(h.c)((function(e){return e.weekData})),v=x.loading,N=x.weekData,E=0;s&&s.forEach((function(e){e.stock<=0&&(E+=1)})),Object(r.useEffect)((function(){e(ae()),e(Jc()),e(it()),e(function(){var e=Object(g.a)(f.a.mark((function e(t){var c,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:at}),e.next=4,y.a.get("/api/v1/admin/blocked");case 4:c=e.sent,a=c.data,t({type:rt,payload:a.blockedCount}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:st,payload:e.t0.response.data.errorMessage});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()),e(function(){var e=Object(g.a)(f.a.mark((function e(t){var c,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Zt}),e.next=4,y.a.get("/api/v1/admin/orders/lastweek");case 4:c=e.sent,a=c.data,t({type:Xt,payload:a.weekData}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:ec,payload:e.t0.response.data.errorMessage});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),sa.f.register(sa.a,sa.e,sa.j,sa.c,sa.o,sa.p,sa.h);var S={labels:["Sunday","Monday","Tuesday","Thursday","Friday","Saturday"],datasets:[{label:"Dataset 1",data:N,backgroundColor:"rgba(255, 99, 132)"}]},_={labels:["Blocked","Unblocked"],datasets:[{label:"of Votes",data:m,backgroundColor:["rgb(166, 25, 20)","rgb(35, 143, 19)"],borderColor:["rgb(35, 143, 19)","rgb(166, 25, 20)"],borderWidth:1}]};return Object(u.jsx)(r.Fragment,{children:a&&"admin"===c.role?Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-12 col-md-3 col-lg-2",children:Object(u.jsx)(la,{})}),Object(u.jsxs)("div",{className:"col-12 col-md-9 col-lg-10",children:[Object(u.jsx)("h1",{className:"my-4",children:"Dashboard"}),j?Object(u.jsx)(le,{}):Object(u.jsxs)(r.Fragment,{children:[Object(u.jsx)(b,{title:"Admin Dashboard"}),Object(u.jsxs)("div",{className:"row pe-4",children:[Object(u.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:Object(u.jsx)("div",{className:"card text-white bg-primary o-hidden h-100",children:Object(u.jsx)("div",{className:"card-body",children:Object(u.jsxs)("div",{className:"text-center card-font-size",children:["Total Revenue",Object(u.jsx)("br",{})," ",Object(u.jsxs)("b",{children:["$",d&&d.toFixed(2)]})]})})})}),Object(u.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:Object(u.jsxs)("div",{className:"card text-white bg-warning o-hidden h-100",children:[Object(u.jsx)("div",{className:"card-body",children:Object(u.jsxs)("div",{className:"text-center card-font-size",children:["Orders",Object(u.jsx)("br",{})," ",Object(u.jsx)("b",{children:l&&l.length})]})}),Object(u.jsxs)(i.b,{className:"card-footer text-white clearfix small z-1",to:"/admin/orders",children:[Object(u.jsx)("span",{className:"float-left",children:"View Details"}),Object(u.jsx)("span",{className:"float-right",children:Object(u.jsx)("i",{className:"fa fa-angle-right"})})]})]})}),Object(u.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:Object(u.jsxs)("div",{className:"card text-white ".concat(E>0?"bg-danger":"bg-success"," o-hidden h-100"),children:[Object(u.jsx)("div",{className:"card-body",children:Object(u.jsxs)("div",{className:"text-center card-font-size",children:["Out of Stock",Object(u.jsx)("br",{})," ",Object(u.jsx)("b",{children:E})]})}),Object(u.jsxs)(i.b,{className:"card-footer text-white clearfix small z-1",to:"/admin/outOfStock",children:[Object(u.jsx)("span",{className:"float-left",children:"View Details"}),Object(u.jsx)("span",{className:"float-right",children:Object(u.jsx)("i",{className:"fa fa-angle-right"})})]})]})})]}),Object(u.jsxs)("div",{className:"row pe-4",children:[Object(u.jsxs)("div",{className:"col-sm-8 mb-3",children:[Object(u.jsx)("h1",{className:"my-4",children:"Last week sales"}),v?Object(u.jsx)(le,{}):Object(u.jsx)(na.a,{options:{responsive:!0,plugins:{legend:{position:"top"}}},data:S})]}),Object(u.jsxs)("div",{className:"col-sm-4 mb-3",style:{},children:[Object(u.jsx)("h1",{className:"my-4",children:"User statuses"}),p?Object(u.jsx)(le,{}):Object(u.jsx)(na.b,{data:_})]})]})]})]})]}):Object(u.jsx)(o.a,{to:"/"})})},oa=function(){var e=Object(ie.d)(),t=Object(h.b)(),c=Object(o.g)(),a=Object(h.c)((function(e){return e.products})),s=a.loading,n=a.error,l=a.products,d=Object(h.c)((function(e){return e.auth})),j=d.user,O=d.isAuthenticated,p=Object(h.c)((function(e){return e.product})),m=p.error,x=p.isDeleted,v=function(e){t(function(e){return function(){var t=Object(g.a)(f.a.mark((function t(c){var a,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:I}),t.next=4,y.a.delete("/api/v1/admin/product/".concat(e));case 4:a=t.sent,r=a.data,c({type:L,payload:r.success}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:G,payload:t.t0.response.data.errorMessage});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(r.useEffect)((function(){t(ae()),n&&(e.error(n),t(se())),m&&(e.error(m),t(se())),x&&(e.success("Product deleted successfully"),c("/admin/products"),t({type:M}))}),[t,e,n,m,x,c]),Object(u.jsx)(r.Fragment,{children:O&&"admin"===j.role?Object(u.jsxs)(r.Fragment,{children:[Object(u.jsx)(b,{title:"All products"}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-12 col-md-3 col-lg-2",children:Object(u.jsx)(la,{})}),Object(u.jsxs)("div",{className:"col-12 col-md-9 col-lg-10",children:[Object(u.jsx)("h1",{className:"my-4",children:"All Products"}),s?Object(u.jsx)(le,{}):Object(u.jsxs)("table",{className:"table table-striped",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"col",children:"ID"}),Object(u.jsx)("th",{scope:"col",children:"Name"}),Object(u.jsx)("th",{scope:"col",children:"Price"}),Object(u.jsx)("th",{scope:"col",children:"Stock"}),Object(u.jsx)("th",{scope:"col",children:"Actions"})]})}),Object(u.jsx)("tbody",{children:l&&l.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"row",children:e._id}),Object(u.jsx)("td",{children:e.name}),Object(u.jsx)("td",{children:e.price}),Object(u.jsx)("td",{children:e.stock}),Object(u.jsx)("td",{children:Object(u.jsxs)(r.Fragment,{children:[Object(u.jsx)(i.b,{to:"/admin/product/".concat(e._id),className:"btn btn-primary py-1 px-2",children:Object(u.jsx)("i",{className:"fa fa-pencil"})}),Object(u.jsx)("button",{className:"btn btn-danger py-1 px-2 ms-2",onClick:function(){return v(e._id)},children:Object(u.jsx)("i",{className:"fa fa-trash"})})]})})]},e._id)}))})]})]})]})]}):Object(u.jsx)(o.a,{to:"/"})})},da=function(){return function(){var e=Object(g.a)(f.a.mark((function e(t){var c,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:cc}),e.next=4,y.a.get("/api/v1/categories");case 4:c=e.sent,a=c.data,t({type:ac,payload:a.categories}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:rc,payload:e.t0.response.data.errorMessage});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},ja=function(e){return function(){var t=Object(g.a)(f.a.mark((function t(c){var a,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:sc}),t.next=4,y.a.get("/api/v1/admin/category/".concat(e));case 4:a=t.sent,r=a.data,c({type:nc,payload:r.category}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:lc,payload:t.t0.response.data.errorMessage});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},ua=function(){return function(){var e=Object(g.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:Dc});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ba=function(){var e=Object(ie.d)(),t=Object(h.b)(),c=Object(o.g)(),a=Object(h.c)((function(e){return e.newProduct})),s=a.loading,n=a.error,l=a.success,i=Object(h.c)((function(e){return e.auth})),j=i.user,O=i.isAuthenticated,p=Object(h.c)((function(e){return e.categories})),m=p.loading,x=p.categories,v=Object(r.useState)(""),N=Object(d.a)(v,2),E=N[0],S=N[1],_=Object(r.useState)(""),w=Object(d.a)(_,2),C=w[0],k=w[1],U=Object(r.useState)(""),F=Object(d.a)(U,2),P=F[0],I=F[1],L=Object(r.useState)(""),M=Object(d.a)(L,2),G=M[0],W=M[1],Q=Object(r.useState)(""),B=Object(d.a)(Q,2),Y=B[0],V=B[1],q=Object(r.useState)(0),z=Object(d.a)(q,2),K=z[0],J=z[1],H=Object(r.useState)(""),$=Object(d.a)(H,2),Z=$[0],X=$[1],ee=Object(r.useState)([]),te=Object(d.a)(ee,2),ce=te[0],ae=te[1],re=Object(r.useState)([]),ne=Object(d.a)(re,2),oe=ne[0],de=ne[1];Object(r.useEffect)((function(){t(da()),n&&(e.error(n),t(se())),l&&(c("/admin/products"),e.success("product created successfully"),t({type:A}))}),[t,e,n,l,c]);var je;return x&&P&&x.filter((function(e){return e.name===P?(je=e.subCategories,null):null})),Object(u.jsx)(r.Fragment,{children:O&&"admin"===j.role?Object(u.jsxs)(r.Fragment,{children:[Object(u.jsx)(b,{title:"New products"}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-12 col-md-3 col-lg-2",children:Object(u.jsx)(la,{})}),Object(u.jsx)("div",{className:"col-12 col-md-9 col-lg-10",children:m?Object(u.jsx)(le,{}):Object(u.jsx)(r.Fragment,{children:Object(u.jsx)("div",{className:"wrapper my-5",children:Object(u.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var c,a=new FormData;a.set("name",E),a.set("price",C),a.set("description",Y),a.set("category",P),a.set("subCategory",G),a.set("stock",K),a.set("seller",Z),ce.forEach((function(e){a.append("images",e)})),t((c=a,function(){var e=Object(g.a)(f.a.mark((function e(t){var a,r,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:R}),a={headers:{"Content-Type":"application/json"}},e.next=5,y.a.post("/api/v1/admin/product/new",c,a);case 5:r=e.sent,s=r.data,t({type:T,payload:s}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:D,payload:e.t0.response.data.errorMessage});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},encType:"multipart/form-data",children:[Object(u.jsx)("h1",{className:"mb-4",children:"New Product"}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"name_field",children:"Name"}),Object(u.jsx)("input",{type:"text",id:"name_field",className:"form-control",value:E,onChange:function(e){return S(e.target.value)}})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"price_field",children:"Price"}),Object(u.jsx)("input",{type:"text",id:"price_field",className:"form-control",value:C,onChange:function(e){return k(e.target.value)}})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"description_field",children:"Description"}),Object(u.jsx)("textarea",{className:"form-control",id:"description_field",rows:"8",value:Y,onChange:function(e){return V(e.target.value)}})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"category_field",children:"Category"}),Object(u.jsxs)("select",{className:"form-control",id:"category_field",value:P,onChange:function(e){return I(e.target.value)},children:[Object(u.jsx)("option",{value:"",children:"Select Category"}),x&&x.map((function(e){return Object(u.jsx)("option",{value:e.name,children:e.name},e._id)}))]})]}),P&&Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"category_field",children:"Sub Category"}),Object(u.jsxs)("select",{className:"form-control",id:"category_field",value:G,onChange:function(e){return W(e.target.value)},children:[Object(u.jsx)("option",{value:"",children:"Select sub Category"}),je&&je.map((function(e){return Object(u.jsx)("option",{value:e.name,children:e.name},e._id)}))]})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"stock_field",children:"Stock"}),Object(u.jsx)("input",{type:"number",id:"stock_field",className:"form-control",value:K,onChange:function(e){return J(e.target.value)}})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"seller_field",children:"Seller Name"}),Object(u.jsx)("input",{type:"text",id:"seller_field",className:"form-control",value:Z,onChange:function(e){return X(e.target.value)}})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"Images"}),Object(u.jsxs)("div",{className:"custom-file",children:[Object(u.jsx)("input",{type:"file",name:"product_images",className:"custom-file-input",id:"customFile",onChange:function(e){var t=Array.from(e.target.files);de([]),ae([]),t.forEach((function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&(de((function(e){return[].concat(Object(wt.a)(e),[t.result])})),ae((function(e){return[].concat(Object(wt.a)(e),[t.result])})))},t.readAsDataURL(e)}))},multiple:!0}),Object(u.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:"Choose Images"})]}),oe.map((function(e){return Object(u.jsx)("img",{src:e,alt:"Images preview",className:"mt-3 me-2",width:"55",height:"52"},e)}))]}),Object(u.jsx)("button",{id:"login_button",type:"submit",className:"btn btn-block py-3",disabled:!!s,children:"CREATE"})]})})})})]})]}):Object(u.jsx)(o.a,{to:"/"})})},Oa=function(){var e,t=Object(ie.d)(),c=Object(h.b)(),a=Object(o.g)(),s=Object(o.h)(),n=Object(h.c)((function(e){return e.productDetails})),l=n.error,i=n.product,j=Object(h.c)((function(e){return e.product})),O=j.loading,p=j.error,m=j.isUpdated,x=Object(h.c)((function(e){return e.auth})),v=x.user,N=x.isAuthenticated,E=Object(h.c)((function(e){return e.categories})),S=E.loading,_=E.categories,w=Object(r.useState)(""),C=Object(d.a)(w,2),R=C[0],T=C[1],A=Object(r.useState)(""),D=Object(d.a)(A,2),I=D[0],L=D[1],M=Object(r.useState)(""),G=Object(d.a)(M,2),W=G[0],Q=G[1],B=Object(r.useState)(""),Y=Object(d.a)(B,2),V=Y[0],q=Y[1],z=Object(r.useState)(""),K=Object(d.a)(z,2),J=K[0],H=K[1],$=Object(r.useState)(0),Z=Object(d.a)($,2),X=Z[0],ee=Z[1],te=Object(r.useState)(""),ae=Object(d.a)(te,2),re=ae[0],ne=ae[1],oe=Object(r.useState)([]),de=Object(d.a)(oe,2),je=de[0],ue=de[1],be=Object(r.useState)([]),Oe=Object(d.a)(be,2),pe=Oe[0],me=Oe[1],he=Object(r.useState)([]),xe=Object(d.a)(he,2),fe=xe[0],ge=xe[1],ve=Object(r.useState)(0),ye=Object(d.a)(ve,2),Ne=ye[0],Ee=ye[1],Se=Object(r.useState)(0),_e=Object(d.a)(Se,2),we=_e[0],Ce=_e[1],Re=Object(r.useState)(""),Te=Object(d.a)(Re,2),Ae=Te[0],De=Te[1],ke=s.id;_&&W&&_.filter((function(t){return t.name===W?(e=t.subCategories,null):null})),Object(r.useEffect)((function(){c(da()),i&&i._id!==ke?c(ce(ke)):(T(i.name),L(i.price),H(i.description),Q(i.category),q(i.subCategory),ee(i.stock),ne(i.seller),me(i.images),Ee(i.offerPercentage),De(i.offerDetails),Ce(i.offerPrice)),l&&(t.error(l),c(se())),p&&(t.error(p),c(se())),m&&(a("/admin/products"),t.success("product updated successfully"),c(ce(ke)),c({type:F}))}),[c,t,l,m,a,p,i,ke]);return Object(u.jsx)(r.Fragment,{children:N&&"admin"===v.role?Object(u.jsxs)(r.Fragment,{children:[Object(u.jsx)(b,{title:"Update products"}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-12 col-md-3 col-lg-2",children:Object(u.jsx)(la,{})}),Object(u.jsx)("div",{className:"col-12 col-md-9 col-lg-10",children:S?Object(u.jsx)(le,{}):Object(u.jsx)(r.Fragment,{children:Object(u.jsx)("div",{className:"wrapper my-5",children:Object(u.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,a,r=new FormData;r.set("name",R),r.set("price",I),r.set("description",J),r.set("category",W),r.set("subCategory",V),r.set("stock",X),r.set("seller",re),r.set("offerPercentage",Ne),r.set("offerDetails",Ae),r.set("offerPrice",we),je.forEach((function(e){r.append("images",e)})),c((t=i._id,a=r,function(){var e=Object(g.a)(f.a.mark((function e(c){var r,s,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:k}),r={headers:{"Content-Type":"application/json"}},e.next=5,y.a.put("/api/v1/admin/product/".concat(t),a,r);case 5:s=e.sent,n=s.data,c({type:U,payload:n.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c({type:P,payload:e.t0.response.data.errorMessage});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},encType:"multipart/form-data",children:[Object(u.jsx)("h1",{className:"mb-4",children:"Update Product"}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"name_field",children:"Name"}),Object(u.jsx)("input",{type:"text",id:"name_field",className:"form-control",value:R,onChange:function(e){return T(e.target.value)}})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"price_field",children:"Price"}),Object(u.jsx)("input",{type:"text",id:"price_field",className:"form-control",value:I,onChange:function(e){return L(e.target.value)}})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"description_field",children:"Description"}),Object(u.jsx)("textarea",{className:"form-control",id:"description_field",rows:"8",value:J,onChange:function(e){return H(e.target.value)}})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"category_field",children:"Category"}),Object(u.jsxs)("select",{className:"form-control",id:"category_field",value:W,onChange:function(e){return Q(e.target.value)},children:[Object(u.jsx)("option",{value:"",children:"Select Category"}),_&&_.map((function(e){return Object(u.jsx)("option",{value:e.name,children:e.name},e._id)}))]})]}),W&&Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"category_field",children:"Sub Category"}),Object(u.jsxs)("select",{className:"form-control",id:"category_field",value:V,onChange:function(e){return q(e.target.value)},children:[Object(u.jsx)("option",{value:"",children:"Select sub Category"}),e&&e.map((function(e){return Object(u.jsx)("option",{value:e.name,children:e.name},e._id)}))]})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"stock_field",children:"Stock"}),Object(u.jsx)("input",{type:"number",id:"stock_field",className:"form-control",value:X,onChange:function(e){return ee(e.target.value)}})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"stock_field",children:"Offer Percentage"}),Object(u.jsx)("input",{type:"number",id:"stock_field",className:"form-control",value:Ne,onChange:function(e){Ee(e.target.value),Ce((i.price-Ne*i.price/100).toFixed(2))}}),we&&Object(u.jsxs)("p",{children:["effective product price : ",we]})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"seller_field",children:"Offer Details"}),Object(u.jsx)("input",{type:"text",id:"seller_field",className:"form-control",value:Ae,onChange:function(e){return De(e.target.value)}})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"seller_field",children:"Seller Name"}),Object(u.jsx)("input",{type:"text",id:"seller_field",className:"form-control",value:re,onChange:function(e){return ne(e.target.value)}})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"Images"}),Object(u.jsxs)("div",{className:"custom-file",children:[Object(u.jsx)("input",{type:"file",name:"product_images",className:"custom-file-input",id:"customFile",onChange:function(e){var t=Array.from(e.target.files);ge([]),ue([]),me([]),t.forEach((function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&(ge((function(e){return[].concat(Object(wt.a)(e),[t.result])})),ue((function(e){return[].concat(Object(wt.a)(e),[t.result])})))},t.readAsDataURL(e)}))},multiple:!0}),Object(u.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:"Choose Images"})]}),pe&&pe.map((function(e){return Object(u.jsx)("img",{className:"mt-3 me-2",src:e.url,alt:e.url,width:"55",height:"52"},e)})),fe.map((function(e){return Object(u.jsx)("img",{src:e,alt:"Images preview",className:"mt-3 me-2",width:"55",height:"52"},e)}))]}),Object(u.jsx)("button",{id:"login_button",type:"submit",className:"btn btn-block py-3",disabled:!!O,children:"UPDATE"})]})})})})]})]}):Object(u.jsx)(o.a,{to:"/"})})},pa=function(){var e=Object(ie.d)(),t=Object(h.b)(),c=Object(o.g)(),a=Object(h.c)((function(e){return e.allOrders})),s=a.loading,n=a.error,l=a.orders,d=Object(h.c)((function(e){return e.auth})),j=d.user,O=d.isAuthenticated,p=Object(h.c)((function(e){return e.order})).isDeleted,m=function(e){t(function(e){return function(){var t=Object(g.a)(f.a.mark((function t(c){var a,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:Kt}),t.next=4,y.a.delete("/api/v1/admin/order/".concat(e));case 4:a=t.sent,r=a.data,c({type:Jt,payload:r.success}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:$t,payload:t.t0.response.data.errorMessage});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(r.useEffect)((function(){t(Jc()),n&&(e.error(n),t(Hc())),p&&(e.success("Order deleted successfully"),c("/admin/orders"),t({type:Ht}))}),[t,e,n,p,c]),Object(u.jsx)(r.Fragment,{children:O&&"admin"===j.role?Object(u.jsxs)(r.Fragment,{children:[Object(u.jsx)(b,{title:"All orders"}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-12 col-md-3 col-lg-2",children:Object(u.jsx)(la,{})}),Object(u.jsxs)("div",{className:"col-12 col-md-9 col-lg-10",children:[Object(u.jsx)("h1",{className:"my-4",children:"All Orders"}),s?Object(u.jsx)(le,{}):Object(u.jsxs)("table",{className:"table table-striped",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"col",children:"Order ID"}),Object(u.jsx)("th",{scope:"col",children:"Number of Items"}),Object(u.jsx)("th",{scope:"col",children:"Amount"}),Object(u.jsx)("th",{scope:"col",children:"Status"}),Object(u.jsx)("th",{scope:"col",children:"Actions"})]})}),Object(u.jsx)("tbody",{children:l&&l.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"row",children:e._id}),Object(u.jsx)("td",{children:e.orderItems.length}),Object(u.jsx)("td",{children:e.totalPrice}),Object(u.jsx)("td",{children:e.orderStatus&&String(e.orderStatus).includes("Delivered")?Object(u.jsx)("p",{style:{color:"green"},children:e.orderStatus}):Object(u.jsx)("p",{style:{color:"red"},children:e.orderStatus})}),Object(u.jsx)("td",{children:Object(u.jsxs)(r.Fragment,{children:[Object(u.jsx)(i.b,{to:"/admin/order/".concat(e._id),className:"btn btn-primary py-1 px-2",children:Object(u.jsx)("i",{className:"fa fa-eye"})}),Object(u.jsx)("button",{className:"btn btn-danger py-1 px-2 ms-2",onClick:function(){m(e._id)},children:Object(u.jsx)("i",{className:"fa fa-trash"})})]})})]},e._id)}))})]})]})]})]}):Object(u.jsx)(o.a,{to:"/"})})},ma=function(){var e=Object(ie.d)(),t=Object(h.b)(),c=Object(o.h)(),a=Object(h.c)((function(e){return e.orderDetails})),s=a.loading,n=a.order,l=void 0===n?{}:n,j=Object(h.c)((function(e){return e.order})),O=j.error,p=j.isUpdated,m=Object(h.c)((function(e){return e.auth})),x=m.user,v=m.isAuthenticated,N=Object(r.useState)("Processing"),E=Object(d.a)(N,2),S=E[0],_=E[1],w=c.id,C=l.shippingInfo,R=l.orderItems,T=l.paymentInfo,A=l.user,D=l.totalPrice,k=l.orderStatus,U=!1;T&&(U="COD"===T.status||"success"===T.status);var F=C&&"".concat(C.address,", ").concat(C.city,", ").concat(C.postalCode,", ").concat(C.country);Object(r.useEffect)((function(){t(Kc(w)),O&&(e.error(O),t(Hc())),p&&(e.success("Order updated successfully"),t({type:qt}))}),[t,e,O,p,w]);var P=function(e){var c=new FormData;c.set("status",S),t(function(e,t){return function(){var c=Object(g.a)(f.a.mark((function c(a){var r,s,n;return f.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,a({type:Yt}),r={headers:{"Content-Type":"application/json"}},c.next=5,y.a.put("/api/v1/admin/order/".concat(e),t,r);case 5:s=c.sent,n=s.data,a({type:Vt,payload:n.success}),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(0),a({type:zt,payload:c.t0.response.data.errorMessage});case 13:case"end":return c.stop()}}),c,null,[[0,10]])})));return function(e){return c.apply(this,arguments)}}()}(e,c))};return Object(u.jsx)(r.Fragment,{children:v&&"admin"===x.role?Object(u.jsxs)(r.Fragment,{children:[Object(u.jsx)(b,{title:"Process order # ".concat(l&&l._id)}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-12 col-md-3 col-lg-2",children:Object(u.jsx)(la,{})}),Object(u.jsx)("div",{className:"col-12 col-md-9 col-lg-10",children:Object(u.jsx)(r.Fragment,{children:s?Object(u.jsx)(le,{}):Object(u.jsxs)("div",{className:"row d-flex justify-content-around",children:[Object(u.jsxs)("div",{className:"col-12 col-lg-7 order-details",children:[Object(u.jsxs)("h2",{className:"my-5",children:["Order # ",l&&l._id]}),Object(u.jsx)("h4",{className:"mb-4",children:"Shipping Info"}),Object(u.jsxs)("p",{children:[Object(u.jsx)("b",{children:"Name:"})," ",A&&A.name]}),Object(u.jsxs)("p",{children:[Object(u.jsx)("b",{children:"Phone:"}),C&&C.phoneNo]}),Object(u.jsxs)("p",{className:"mb-4",children:[Object(u.jsx)("b",{children:"Address:"}),F]}),Object(u.jsxs)("p",{children:[Object(u.jsx)("b",{children:"Amount:"})," $",D]}),Object(u.jsx)("hr",{}),Object(u.jsx)("h4",{className:"my-4",children:"Payment"}),Object(u.jsx)("p",{className:U?"greenColor":"redColor",children:Object(u.jsx)("b",{children:U?"PAID":"NOT PAID"})}),Object(u.jsx)("h4",{className:"my-4",children:"Payment Info"}),Object(u.jsx)("p",{className:U?"greenColor":"redColor",children:Object(u.jsx)("b",{children:T?T.status:null})}),Object(u.jsx)("h4",{className:"my-4",children:"Order Status:"}),Object(u.jsx)("p",{className:l.orderStatus&&String(l.orderStatus).includes("Delivered")?"greenColor":"redColor",children:Object(u.jsx)("b",{children:k})}),Object(u.jsx)("h4",{className:"my-4",children:"Order Items:"}),Object(u.jsx)("hr",{}),Object(u.jsx)("div",{className:"cart-item my-1",children:R&&R.map((function(e){return Object(u.jsxs)("div",{className:"row my-5",children:[Object(u.jsx)("div",{className:"col-4 col-lg-2",children:Object(u.jsx)("img",{src:e.image,alt:e.name,height:"45",width:"65"})}),Object(u.jsx)("div",{className:"col-5 col-lg-5",children:Object(u.jsx)(i.b,{to:"/products/".concat(e.product),children:e.name})}),Object(u.jsx)("div",{className:"col-4 col-lg-2 mt-4 mt-lg-0",children:Object(u.jsxs)("p",{children:["$",e.price]})}),Object(u.jsx)("div",{className:"col-4 col-lg-3 mt-4 mt-lg-0",children:Object(u.jsxs)("p",{children:[e.quantity," Piece(s)"]})})]},e.product)}))}),Object(u.jsx)("hr",{})]}),Object(u.jsxs)("div",{className:"col-12 col-lg-3 mt-5",children:[Object(u.jsx)("h4",{className:"my-4",children:"Status"}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsxs)("select",{className:"form-control",name:"status",value:S,onChange:function(e){return _(e.target.value)},children:[Object(u.jsx)("option",{value:"Processing",children:"Processing"}),Object(u.jsx)("option",{value:"Shipped",children:"Shipped"}),Object(u.jsx)("option",{value:"Delivered",children:"Delivered"})]})}),Object(u.jsx)("button",{className:"btn btn-primary btn-block",onClick:function(){return P(l._id)},children:"Update Status"})]})]})})})]})]}):Object(u.jsx)(o.a,{to:"/"})})};var ha=function(){var e=Object(ie.d)(),t=Object(h.b)(),c=Object(o.g)(),a=Object(h.c)((function(e){return e.allUsers})),s=a.loading,n=a.error,l=a.users,d=Object(h.c)((function(e){return e.auth})),j=d.user,O=d.isAuthenticated,p=Object(h.c)((function(e){return e.user})),m=p.isDeleted,x=p.isUpdated,v=p.loading,N=function(e){t(function(e){return function(){var t=Object(g.a)(f.a.mark((function t(c){var a,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:Je}),t.next=4,y.a.delete("/api/v1/admin/user/".concat(e));case 4:a=t.sent,r=a.data,c({type:He,payload:r.success}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:Ze,payload:t.t0.response.data.errorMessage});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(e))},E=function(e){t(function(e){return function(){var t=Object(g.a)(f.a.mark((function t(c){var a,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:Xe}),t.next=4,y.a.put("/api/v1/admin/blockuser/".concat(e));case 4:a=t.sent,r=a.data,c({type:et,payload:r.success}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:ct,payload:t.t0.response.data.errorMessage});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(r.useEffect)((function(){t(it()),n&&(e.error(n),t(ot())),x&&(e.success("User updated successfully"),t(it()),t({type:tt})),m&&(e.success("User deleted successfully"),t(it()),t({type:$e}))}),[t,e,n,m,x,c]),Object(u.jsx)(r.Fragment,{children:O&&"admin"===j.role?Object(u.jsxs)(r.Fragment,{children:[Object(u.jsx)(b,{title:"All usres"}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-12 col-md-3 col-lg-2",children:Object(u.jsx)(la,{})}),Object(u.jsxs)("div",{className:"col-12 col-md-9 col-lg-10",children:[Object(u.jsx)("h1",{className:"my-4",children:"All Users"}),s?Object(u.jsx)(le,{}):Object(u.jsx)("div",{className:"table-responsive",children:Object(u.jsxs)("table",{className:"table table-striped table-hover",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"col",children:"Name"}),Object(u.jsx)("th",{scope:"col",children:"Image"}),Object(u.jsx)("th",{scope:"col",children:"Email"}),Object(u.jsx)("th",{scope:"col",children:"Role"}),Object(u.jsx)("th",{scope:"col",children:"Block/Unblock"}),Object(u.jsx)("th",{scope:"col",children:"Actions"})]})}),Object(u.jsx)("tbody",{children:l&&l.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"row",children:e.name}),Object(u.jsx)("td",{children:Object(u.jsx)("img",{src:e.avatar.url,alt:e.name,width:50,height:52})}),Object(u.jsx)("td",{children:e.email}),Object(u.jsx)("td",{children:e.role}),Object(u.jsx)("td",{children:Object(u.jsx)("button",{disabled:!!v,className:"btn ".concat(e.isBlocked?"btn-success":"btn-danger"," py-1 px-2 ms-2"),onClick:function(){return E(e._id)},children:e.isBlocked?"Unblock":"Block"})}),Object(u.jsx)("td",{children:Object(u.jsxs)(r.Fragment,{children:[Object(u.jsx)(i.b,{to:"/admin/user/".concat(e._id),className:"btn btn-primary py-1 px-2",children:Object(u.jsx)("i",{className:"fa fa-pencil"})}),Object(u.jsx)("button",{className:"btn btn-danger py-1 px-2 ms-2",onClick:function(){return N(e._id)},children:Object(u.jsx)("i",{className:"fa fa-trash"})})]})})]},e._id)}))})]})})]})]})]}):Object(u.jsx)(o.a,{to:"/"})})};var xa=function(){var e=Object(r.useState)(""),t=Object(d.a)(e,2),c=t[0],a=t[1],s=Object(r.useState)(""),n=Object(d.a)(s,2),l=n[0],i=n[1],j=Object(r.useState)(""),O=Object(d.a)(j,2),p=O[0],m=O[1],x=Object(ie.d)(),v=Object(h.b)(),N=Object(o.g)(),E=Object(o.h)(),S=Object(h.c)((function(e){return e.auth})),_=S.isAuthenticated,w=S.user,C=Object(h.c)((function(e){return e.user})),R=C.error,T=C.isUpdated,A=Object(h.c)((function(e){return e.userDetails})).user,D=E.id;return Object(r.useEffect)((function(){var e;A&&A._id!==D?v((e=D,function(){var t=Object(g.a)(f.a.mark((function t(c){var a,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:Me}),t.next=4,y.a.get("/api/v1/admin/user/".concat(e));case 4:a=t.sent,r=a.data,c({type:Ge,payload:r.user}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:We,payload:t.t0.response.data.errorMessage});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}())):(a(A.name),i(A.email),m(A.role)),R&&(x.error(R),v(ot())),T&&(x.success("User updated successfully"),N("/admin/users"),v({type:ze}))}),[v,A,D,x,T,_,R,N]),Object(u.jsx)(r.Fragment,{children:_&&"admin"===w.role?Object(u.jsxs)(r.Fragment,{children:[Object(u.jsx)(b,{title:"Update user"}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-12 col-md-3 col-lg-2",children:Object(u.jsx)(la,{})}),Object(u.jsx)("div",{className:"col-12 col-md-9 col-lg-10",children:Object(u.jsx)("div",{className:"row wrapper",children:Object(u.jsx)("div",{className:"col-10 col-lg-5",children:Object(u.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,a,r=new FormData;r.set("name",c),r.set("email",l),r.set("role",p),v((t=A._id,a=r,function(){var e=Object(g.a)(f.a.mark((function e(c){var r,s,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:Ve}),r={headers:{"Content-Type":"appllication/json"}},e.next=5,y.a.put("/api/v1/admin/user/".concat(t),a,r);case 5:s=e.sent,n=s.data,c({type:qe,payload:n.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c({type:Ke,payload:e.t0.response.data.errorMessage});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(u.jsx)("h1",{className:"mt-2 mb-5",children:"Update User"}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{for:"name_field",children:"Name"}),Object(u.jsx)("input",{type:"name",id:"name_field",className:"form-control",name:"name",value:c,onChange:function(e){return a(e.target.value)}})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{for:"email_field",children:"Email"}),Object(u.jsx)("input",{type:"email",id:"email_field",className:"form-control",name:"email",value:l,onChange:function(e){return i(e.target.value)}})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{for:"role_field",children:"Role"}),Object(u.jsxs)("select",{id:"role_field",className:"form-control",name:"role",value:p,onChange:function(e){return m(e.target.value)},children:[Object(u.jsx)("option",{value:"user",children:"user"}),Object(u.jsx)("option",{value:"admin",children:"admin"})]})]}),Object(u.jsx)("button",{type:"submit",className:"btn update-btn btn-block mt-4 mb-3",children:"Update"})]})})})})]})]}):Object(u.jsx)(o.a,{to:"/"})})};var fa=function(){var e=Object(ie.d)(),t=Object(h.b)(),c=Object(o.g)(),a=Object(h.c)((function(e){return e.productReviews})),s=a.error,n=a.reviews,l=Object(h.c)((function(e){return e.auth})),i=l.user,j=l.isAuthenticated,O=Object(h.c)((function(e){return e.review})).isDeleted,p=Object(r.useState)(""),m=Object(d.a)(p,2),x=m[0],v=m[1],N=function(e){t(function(e,t){return function(){var c=Object(g.a)(f.a.mark((function c(a){var r,s;return f.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,a({type:$}),c.next=4,y.a.delete("/api/v1/admin/review?id=".concat(e,"&productId=").concat(t));case 4:r=c.sent,s=r.data,a({type:Z,payload:s.success}),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(0),a({type:ee,payload:c.t0.response.data.errorMessage});case 12:case"end":return c.stop()}}),c,null,[[0,9]])})));return function(e){return c.apply(this,arguments)}}()}(e,x))};return Object(r.useEffect)((function(){s&&(e.error(s),t(se())),O&&(e.success("Review deleted successfully"),t({type:X}),t(re(x)))}),[t,e,s,x,O,c]),Object(u.jsx)(r.Fragment,{children:j&&"admin"===i.role?Object(u.jsxs)(r.Fragment,{children:[Object(u.jsx)(b,{title:"Product reviews"}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-12 col-md-3 col-lg-2",children:Object(u.jsx)(la,{})}),Object(u.jsxs)("div",{className:"col-12 col-md-9 col-lg-10",children:[Object(u.jsx)("h1",{className:"my-4",children:"Product reviews"}),Object(u.jsx)("div",{className:"row justify-content-center mt-5",children:Object(u.jsx)("div",{className:"col-5",children:Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(re(x))},children:[Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"productId_field",children:"Enter Product ID"}),Object(u.jsx)("input",{type:"text",id:"productId_field",className:"form-control",value:x,onChange:function(e){return v(e.target.value)}})]}),Object(u.jsx)("button",{id:"search_button",type:"submit",className:"btn btn-primary btn-block py-2",disabled:!x,children:"SEARCH"})]})})}),n&&n.length>0?Object(u.jsx)("div",{className:"table-responsive",children:Object(u.jsxs)("table",{className:"table table-striped table-hover",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"col",children:"Review ID"}),Object(u.jsx)("th",{scope:"col",children:"Rating"}),Object(u.jsx)("th",{scope:"col",children:"Comment"}),Object(u.jsx)("th",{scope:"col",children:"User"}),Object(u.jsx)("th",{scope:"col",children:"Actions"})]})}),Object(u.jsx)("tbody",{children:n&&n.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"row",children:e._id}),Object(u.jsx)("td",{children:e.rating}),Object(u.jsx)("td",{children:e.comment}),Object(u.jsx)("td",{children:e.name}),Object(u.jsx)("td",{children:e.role}),Object(u.jsx)("td",{children:Object(u.jsx)("button",{className:"btn btn-danger py-1 px-2 ms-2",onClick:function(){return N(e._id)},children:Object(u.jsx)("i",{className:"fa fa-trash"})})})]},e._id)}))})]})}):Object(u.jsx)("p",{className:"mt-5 text-center",children:"No reviews yet"})]})]})]}):Object(u.jsx)(o.a,{to:"/"})})};var ga=function(){var e=Object(ie.d)(),t=Object(h.b)(),c=Object(o.h)(),a=Object(h.c)((function(e){return e.orderDetails})),s=a.loading,n=a.error,l=a.order,d=void 0===l?{}:l,j=d.shippingInfo,O=d.orderItems,p=d.paymentInfo,m=d.user,x=d.totalPrice,f=d.orderStatus,g=j&&"".concat(j.address,", ").concat(j.city,", ").concat(j.postalCode,", ").concat(j.country),v=!1;return p&&(v="COD"===p.status||"succeeded"===p.status),Object(r.useEffect)((function(){t(Kc(c.id)),n&&(e.error(n),t(Hc()))}),[t,e,n,c.id]),Object(u.jsxs)(r.Fragment,{children:[Object(u.jsx)(b,{title:"Order Details"}),s?Object(u.jsx)(le,{}):Object(u.jsx)(r.Fragment,{children:Object(u.jsx)("div",{className:"row d-flex justify-content-between",children:Object(u.jsxs)("div",{className:"col-12 col-lg-8 mt-5 order-details",children:[Object(u.jsxs)("h1",{className:"my-5",children:["Order # ",d._id]}),Object(u.jsx)("h4",{className:"mb-4",children:"Shipping Info"}),Object(u.jsxs)("p",{children:[Object(u.jsx)("b",{children:"Name:"})," ",m&&m.name]}),Object(u.jsxs)("p",{children:[Object(u.jsx)("b",{children:"Phone:"})," ",j&&j.phoneNo]}),Object(u.jsxs)("p",{className:"mb-4",children:[Object(u.jsx)("b",{children:"Address:"})," ",g]}),Object(u.jsxs)("p",{children:[Object(u.jsx)("b",{children:"Amount:"})," $",x]}),Object(u.jsx)("hr",{}),Object(u.jsx)("h4",{className:"my-4",children:"Payment"}),Object(u.jsx)("p",{className:v?"greenColor":"redColor",children:Object(u.jsx)("b",{children:v?"PAID":"NOT PAID"})}),Object(u.jsx)("h4",{className:"my-4",children:"Order Status:"}),Object(u.jsx)("p",{className:d.orderStatus&&String(d.orderStatus).includes("Delivered")?"greenColor":"redColor",children:Object(u.jsx)("b",{children:f})}),Object(u.jsx)("h4",{className:"my-4",children:"Order Items:"}),Object(u.jsx)("hr",{}),Object(u.jsx)("div",{className:"cart-item my-1",children:O&&O.map((function(e){return Object(u.jsxs)("div",{className:"row my-5",children:[Object(u.jsx)("div",{className:"col-4 col-lg-2",children:Object(u.jsx)("img",{src:e.image,alt:e.name,height:"45",width:"65"})}),Object(u.jsx)("div",{className:"col-5 col-lg-5",children:Object(u.jsx)(i.b,{to:"/products/".concat(e.product),children:e.name})}),Object(u.jsx)("div",{className:"col-4 col-lg-2 mt-4 mt-lg-0",children:Object(u.jsxs)("p",{children:["$",e.price]})}),Object(u.jsx)("div",{className:"col-4 col-lg-3 mt-4 mt-lg-0",children:Object(u.jsxs)("p",{children:[e.quantity," Piece(s)"]})})]},e.product)}))}),Object(u.jsx)("hr",{})]})})})]})};var va=function(){var e=Object(ie.d)(),t=Object(h.b)(),c=Object(h.c)((function(e){return e.categories})),a=c.loading,s=c.error,n=c.categories,l=Object(h.c)((function(e){return e.auth})),j=l.user,O=l.isAuthenticated,p=Object(h.c)((function(e){return e.newCategory})),m=p.error,x=p.success,v=p.isDeleted,N=function(e){t(function(e){return function(){var t=Object(g.a)(f.a.mark((function t(c){var a,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:mc}),t.next=4,y.a.delete("/api/v1/admin/category/".concat(e));case 4:a=t.sent,r=a.data,c({type:hc,payload:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:fc,payload:t.t0.response.data.errorMessage});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(e))},E=Object(r.useState)(""),S=Object(d.a)(E,2),_=S[0],w=S[1];return Object(r.useEffect)((function(){t(da()),s&&(e.error(s),t(ua())),m&&(e.error(m),t(ua())),x&&(e.success("Category added successfully"),w(""),t({type:dc}),t(da())),v&&(e.success("Category deleted successfully"),t({type:xc}),t(da()))}),[t,e,s,m,x,v]),Object(u.jsx)(r.Fragment,{children:O&&"admin"===j.role?Object(u.jsxs)(r.Fragment,{children:[Object(u.jsx)(b,{title:"All categories"}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-12 col-md-3 col-lg-2",children:Object(u.jsx)(la,{})}),Object(u.jsxs)("div",{className:"col-12 col-md-9 col-lg-10",children:[Object(u.jsx)(r.Fragment,{children:Object(u.jsx)("div",{className:"wrapper my-5",children:Object(u.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault(),console.log(_);var c,a=new FormData;a.set("name",_),t((c=a,function(){var e=Object(g.a)(f.a.mark((function e(t){var a,r,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:ic}),a={headers:{"Content-Type":"application/json"}},e.next=5,y.a.post("/api/v1/admin/category",c,a);case 5:r=e.sent,s=r.data,t({type:oc,payload:s}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:jc,payload:e.t0.response.data.errorMessage});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"name_field",children:"Category Name"}),Object(u.jsx)("input",{type:"text",id:"name_field",className:"form-control",value:_,onChange:function(e){return w(e.target.value)}})]}),Object(u.jsx)("button",{id:"login_button",type:"submit",className:"btn btn-block py-3",disabled:!!a,children:"CREATE"})]})})}),Object(u.jsx)("h1",{className:"my-4",children:"All Categories"}),a?Object(u.jsx)(le,{}):Object(u.jsxs)("table",{className:"table table-striped",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"col",children:"Name"}),Object(u.jsx)("th",{scope:"col",children:"ID"}),Object(u.jsx)("th",{scope:"col",children:"Number of subCat"}),Object(u.jsx)("th",{scope:"col",children:"Actions"})]})}),Object(u.jsx)("tbody",{children:n&&n.length>0&&n.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"row",children:e.name}),Object(u.jsx)("td",{children:e._id}),Object(u.jsx)("td",{children:e.subCategories.length}),Object(u.jsx)("td",{children:Object(u.jsxs)(r.Fragment,{children:[Object(u.jsx)(i.b,{to:"/admin/category/".concat(e._id),className:"btn btn-primary py-1 px-2",children:Object(u.jsx)("i",{className:"fa fa-pencil"})}),Object(u.jsx)("button",{className:"btn btn-danger py-1 px-2 ms-2",onClick:function(){return N(e._id)},children:Object(u.jsx)("i",{className:"fa fa-trash"})})]})})]},e._id)}))})]})]})]})]}):Object(u.jsx)(o.a,{to:"/login"})})},ya=function(){var e=Object(ie.d)(),t=Object(h.b)(),c=Object(o.g)(),a=Object(o.h)(),s=Object(h.c)((function(e){return e.newCategory})),n=s.success,l=s.isDeleted,i=s.error,j=Object(h.c)((function(e){return e.auth})),O=j.user,p=j.isAuthenticated,m=Object(h.c)((function(e){return e.categoryDetails})),x=m.category,v=m.loading,N=m.error,E=Object(r.useState)(""),S=Object(d.a)(E,2),_=S[0],w=S[1],C=Object(r.useState)(""),R=Object(d.a)(C,2),T=R[0],A=R[1],D=Object(r.useState)(null),k=Object(d.a)(D,2),U=k[0],F=k[1],P=Object(r.useState)(""),I=Object(d.a)(P,2),L=I[0],M=I[1],G=Object(r.useState)(0),W=Object(d.a)(G,2),Q=W[0],B=W[1],Y=Object(r.useState)(""),V=Object(d.a)(Y,2),q=V[0],z=V[1],K=a.id;Object(r.useEffect)((function(){x&&x._id!==K?t(ja(K)):w(x.name),N&&(e.error(N),t(ua())),i&&(e.error(i),t(ua())),l&&(e.success("SubCategory deleted successfully"),t({type:Tc}),t(ja(K)),A(""),F("")),n&&(e.success("Category updated successfully"),A(""),F(""),z(""),B(0),t({type:Oc}),t({type:yc}),t(ja(K)))}),[t,e,N,i,n,c,x,K,l]);return Object(u.jsx)(r.Fragment,{children:p&&"admin"===O.role?Object(u.jsxs)(r.Fragment,{children:[Object(u.jsx)(b,{title:"Update category"}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-12 col-md-3 col-lg-2",children:Object(u.jsx)(la,{})}),Object(u.jsx)("div",{className:"col-12 col-md-5 col-lg-5",children:Object(u.jsx)(r.Fragment,{children:Object(u.jsx)("div",{className:"wrapper my-5",children:Object(u.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){var c,a;e.preventDefault(),t((c=K,a=_,function(){var e=Object(g.a)(f.a.mark((function e(t){var r,s,n,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:uc}),r={headers:{"Content-Type":"application/json"}},s={name:a},e.next=6,y.a.put("/api/v1/admin/category/".concat(c),s,r);case 6:n=e.sent,l=n.data,t({type:bc,payload:l}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:pc,payload:e.t0.response.data.errorMessage});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()))},encType:"multipart/form-data",children:[Object(u.jsx)("h1",{className:"mb-4",children:"Update category"}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"name_field",children:"Category Name"}),Object(u.jsx)("input",{type:"text",id:"name_field",className:"form-control",value:_,onChange:function(e){return w(e.target.value)}})]}),Object(u.jsx)("button",{id:"login_button",className:"btn btn-block py-3",disabled:!!v,children:"Update"})]})})})}),Object(u.jsx)("div",{className:"col-12 col-md-4 col-lg-5",children:v?Object(u.jsx)(le,{}):Object(u.jsx)(r.Fragment,{children:Object(u.jsx)("div",{className:"wrapper my-5",children:Object(u.jsxs)("form",{className:"shadow-lg",encType:"multipart/form-data",children:[Object(u.jsx)("h1",{className:"mb-4",children:"create Sub Category"}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"name_field",children:"New Sub Category Name"}),Object(u.jsx)("input",{type:"text",id:"name_field",className:"form-control",value:L,onChange:function(e){return M(e.target.value)}})]}),Object(u.jsx)("button",{id:"login_button",className:"btn btn-block py-3",disabled:!!v,onClick:function(e){var c,a;e.preventDefault(),t((c=K,a=L,function(){var e=Object(g.a)(f.a.mark((function e(t){var r,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:gc}),e.next=4,y.a.post("/api/v1/admin/category/subcategory?id=".concat(c,"&sub=").concat(a));case 4:r=e.sent,s=r.data,t({type:vc,payload:s}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:Nc,payload:e.t0.response.data.errorMessage});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()))},children:"Add new subCategory"}),Object(u.jsx)("hr",{}),Object(u.jsx)("h1",{className:"mb-4",children:"Edit Sub Category"}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"Sub_category_field",children:"select Sub Category"}),Object(u.jsx)("div",{className:"list-group",children:x.subCategories&&x.subCategories.map((function(e){return Object(u.jsxs)("button",{type:"button",className:"list-group-item list-group-item-action",onClick:function(){F(e._id),A(e.name),B(e.offerPercentage),z(e.offerDetails)},children:[e.name," \xa0\xa0",0!==e.offerPercentage&&Object(u.jsx)("i",{className:"fa fa-star"})]})}))})]}),U&&Object(u.jsxs)(r.Fragment,{children:[Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"name_field",children:"Set new Category Name"}),Object(u.jsx)("input",{type:"text",id:"name_field",className:"form-control",value:T,onChange:function(e){return A(e.target.value)}})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"stock_field",children:"Offer Percentage"}),Object(u.jsx)("input",{type:"number",id:"stock_field",className:"form-control",value:Q,onChange:function(e){B(e.target.value)}})]}),0!==Q&&Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"seller_field",children:"Offer Details"}),Object(u.jsx)("input",{type:"text",id:"seller_field",className:"form-control",value:q,onChange:function(e){return z(e.target.value)}})]}),Object(u.jsx)("button",{id:"login_button",onClick:function(e){var c;e.preventDefault(),t((c={id:K,subId:U,sub:T,offerPercentage:Q,offerDetails:q},function(){var e=Object(g.a)(f.a.mark((function e(t){var a,r,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Ec}),a={headers:{"Content-Type":"application/json"}},e.next=5,y.a.put("/api/v1/admin/category/subcategory",c,a);case 5:r=e.sent,s=r.data,t({type:Sc,payload:s}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:wc,payload:e.t0.response.data.errorMessage});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},className:"btn btn-block py-3 ms-3",disabled:!!v,children:"Update"}),Object(u.jsx)("button",{id:"login_button",onClick:function(e){var c,a;e.preventDefault(),t((c=K,a=T,function(){var e=Object(g.a)(f.a.mark((function e(t){var r,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Cc}),e.next=4,y.a.delete("/api/v1/admin/category/subcategory?id=".concat(c,"&sub=").concat(a));case 4:r=e.sent,s=r.data,t({type:Rc,payload:s}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:Ac,payload:e.t0.response.data.errorMessage});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()))},className:"btn bg-danger btn-block ms-3 py-3",disabled:!!v,children:"delete"})]})]})})})})]})]}):Object(u.jsx)(o.a,{to:"/"})})},Na=c(96),Ea=function(){var e=Object(ie.d)(),t=Object(h.b)(),c=Object(h.c)((function(e){return e.allOrders})),a=c.loading,n=c.error,l=c.orders,i=c.success,j=Object(h.c)((function(e){return e.auth})),O=j.user,p=j.isAuthenticated,m=Object(r.useState)(null),x=Object(d.a)(m,2),v=x[0],N=x[1],E=Object(r.useState)(null),S=Object(d.a)(E,2),_=S[0],w=S[1];Object(r.useEffect)((function(){n&&(e.error(n),t(Hc())),i&&(e.success("Report filtered successfully"),t({type:Qt}))}),[t,e,n,l,i]);var C=s.a.useRef(null),R=s.a.useCallback((function(){return C.current}),[]),T=Object(Na.useReactToPrint)({content:R,documentTitle:"Sales Report - OliveZone",removeAfterPrint:!0});return Object(u.jsx)(r.Fragment,{children:p&&"admin"===O.role?Object(u.jsxs)(r.Fragment,{children:[Object(u.jsx)(b,{title:"All orders"}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-12 col-md-3 col-lg-2",children:Object(u.jsx)(la,{})}),Object(u.jsxs)("div",{className:"col-12 col-md-9 col-lg-10",children:[Object(u.jsx)("h1",{className:"my-4",children:"Sales Report"}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsxs)("div",{className:"col-12 col-md-6",children:["from ",Object(u.jsx)("input",{type:"date",value:v,onChange:function(e){return N(e.target.value)}})," \xa0 \xa0 to ",Object(u.jsx)("input",{type:"date",value:_,onChange:function(e){return w(e.target.value)}}),Object(u.jsx)("button",{className:"btn btn-primary py-1 px-3 mx-3",onClick:function(){var e,c;t((e=v,c=_,function(){var t=Object(g.a)(f.a.mark((function t(a){var r,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:Gt}),t.next=4,y.a.get("/api/v1/admin/orders/sort?from=".concat(e,"&to=").concat(c));case 4:r=t.sent,s=r.data,a({type:Wt,payload:s}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:Bt,payload:t.t0.response.data.errorMessage});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()))},children:"Filter"})]}),Object(u.jsx)("div",{className:"col-12 col-md-6",children:Object(u.jsx)("button",{onClick:T,children:"Print"})})]}),a?Object(u.jsx)(le,{}):Object(u.jsxs)("table",{className:"table table-striped",ref:C,children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"col",children:"Order ID"}),Object(u.jsx)("th",{scope:"col",children:"User Name"}),Object(u.jsx)("th",{scope:"col",children:"User Email"}),Object(u.jsx)("th",{scope:"col",children:"Created At"}),Object(u.jsx)("th",{scope:"col",children:"Number of Items"}),Object(u.jsx)("th",{scope:"col",children:"Amount"}),Object(u.jsx)("th",{scope:"col",children:"Status"})]})}),Object(u.jsx)("tbody",{children:l&&l.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"row",children:e._id}),Object(u.jsx)("td",{children:e.user.name}),Object(u.jsx)("td",{children:e.user.email}),Object(u.jsx)("td",{children:JSON.stringify(e.createdAt).substring(1,11)}),Object(u.jsx)("td",{children:e.orderItems.length}),Object(u.jsx)("td",{children:e.totalPrice}),Object(u.jsx)("td",{children:e.orderStatus&&String(e.orderStatus).includes("Delivered")?Object(u.jsx)("p",{style:{color:"green"},children:e.orderStatus}):Object(u.jsx)("p",{style:{color:"red"},children:e.orderStatus})})]},e._id)}))})]})]})]})]}):Object(u.jsx)(o.a,{to:"/"})})};var Sa=function(){var e=Object(h.c)((function(e){return e.auth})),t=e.user,c=e.isAuthenticated,a=e.loading;return Object(r.useEffect)((function(){Pc.dispatch(lt())}),[]),Object(u.jsx)(i.a,{children:Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(dt,{}),Object(u.jsx)("div",{className:"container container-fluid",children:Object(u.jsxs)(o.d,{children:[Object(u.jsx)(o.b,{path:"/",element:Object(u.jsx)(je,{})}),Object(u.jsx)(o.b,{path:"/search/:keyword",element:Object(u.jsx)(je,{})}),Object(u.jsx)(o.b,{path:"/product/:id",element:Object(u.jsx)(xt,{})}),Object(u.jsx)(o.b,{path:"/login",element:Object(u.jsx)(ft,{})}),Object(u.jsx)(o.b,{path:"/register",element:Object(u.jsx)(Nt,{})}),Object(u.jsx)(o.b,{path:"/me",element:Object(u.jsx)(Ic,{})}),Object(u.jsx)(o.b,{path:"/me/update",element:Object(u.jsx)(Lc,{})}),Object(u.jsx)(o.b,{path:"/password/update",element:Object(u.jsx)(Mc,{})}),Object(u.jsx)(o.b,{path:"/password/forgot",element:Object(u.jsx)(Gc,{})}),Object(u.jsx)(o.b,{path:"/password/reset/:token",element:Object(u.jsx)(Wc,{})}),Object(u.jsx)(o.b,{path:"/cart",element:Object(u.jsx)(Qc,{})}),Object(u.jsx)(o.b,{path:"/shipping",element:Object(u.jsx)(Vc,{})}),Object(u.jsx)(o.b,{path:"/order/confirm",element:Object(u.jsx)(Zc,{})}),Object(u.jsx)(o.b,{path:"/payment",element:Object(u.jsx)(ca,{})}),Object(u.jsx)(o.b,{path:"/success",element:Object(u.jsx)(aa,{})}),Object(u.jsx)(o.b,{path:"/orders/me",element:Object(u.jsx)(ra,{})}),Object(u.jsx)(o.b,{path:"/orders/:id",element:Object(u.jsx)(ga,{})})]})}),Object(u.jsxs)(o.d,{children:[Object(u.jsx)(o.b,{path:"/dashboard",element:Object(u.jsx)(ia,{})}),Object(u.jsx)(o.b,{path:"/admin/products",element:Object(u.jsx)(oa,{})}),Object(u.jsx)(o.b,{path:"/admin/product",element:Object(u.jsx)(ba,{})}),Object(u.jsx)(o.b,{path:"/admin/product/:id",element:Object(u.jsx)(Oa,{})}),Object(u.jsx)(o.b,{path:"/admin/orders",element:Object(u.jsx)(pa,{})}),Object(u.jsx)(o.b,{path:"/admin/order/:id",element:Object(u.jsx)(ma,{})}),Object(u.jsx)(o.b,{path:"/admin/users",element:Object(u.jsx)(ha,{})}),Object(u.jsx)(o.b,{path:"/admin/user/:id",element:Object(u.jsx)(xa,{})}),Object(u.jsx)(o.b,{path:"/admin/reviews",element:Object(u.jsx)(fa,{})}),Object(u.jsx)(o.b,{path:"/admin/categories",element:Object(u.jsx)(va,{})}),Object(u.jsx)(o.b,{path:"/admin/category/:id",element:Object(u.jsx)(ya,{})}),Object(u.jsx)(o.b,{path:"/admin/salesreport",element:Object(u.jsx)(Ea,{})})]}),!a&&t&&c&&"admin"===t.role?null:Object(u.jsx)(ue,{})]})})},_a=c(97),wa={timeout:5e3,position:ie.b.BOTTOM_CENTER,transition:ie.c.SCALE};l.a.render(Object(u.jsx)(h.a,{store:Pc,children:Object(u.jsx)(ie.a,Object(a.a)(Object(a.a)({template:_a.a},wa),{},{children:Object(u.jsx)(Sa,{})}))}),document.getElementById("root"))}},[[215,1,2]]]);
//# sourceMappingURL=main.4b6b0238.chunk.js.map